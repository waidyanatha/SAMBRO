var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var a=0;return $jscomp.iteratorPrototype(function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,a){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var b=0,d={next:function(){if(b<c.length){var m=b++;return{value:a(m,c[m]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(c,a,b,d){if(a){b=$jscomp.global;c=c.split(".");for(d=0;d<c.length-1;d++){var m=c[d];m in b||(b[m]={});b=b[m]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a,b){return b})}},"es6","es3");
(function(){var c={dev:!1};c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.logs={};c.dom={};c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,m=function(){},f=function(){return c.apply(this instanceof m&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};
m.prototype=this.prototype;f.prototype=new m;return f});c.dev&&(c.dispatch.on("render_start",function(a){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(a){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):c.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,
console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")};c.render=function(a){a=a||1;c.render.active=!0;c.dispatch.render_start();var b=function(){for(var d,m,f=0;f<a&&(m=c.render.queue[f]);f++)d=m.generate(),typeof m.callback==typeof Function&&m.callback(d);c.render.queue.splice(0,f);c.render.queue.length?setTimeout(b):(c.dispatch.render_end(),c.render.active=!1)};setTimeout(b)};
c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};"undefined"!==typeof module&&"undefined"!==typeof exports&&(module.exports=c);"undefined"!==typeof window&&(window.nv=c);c.dom.write=function(a){return void 0!==window.fastdom?fastdom.write(a):a()};c.dom.read=function(a){return void 0!==window.fastdom?fastdom.read(a):a()};c.interactiveGuideline=function(){function a(z){z.each(function(r){function v(){var c=
d3.mouse(this),d=c[0],c=c[1],e=!0,q=!1;p&&(d=d3.event.offsetX,c=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(e=!1),d3.event.target.className.baseVal.match("nv-legend")&&(q=!0));e&&(d-=f.left,c-=f.top);0>d||0>c||d>u||c>t||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||q?p&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(b.nvPointerEventsClass))||(g.elementMouseout({mouseX:d,
mouseY:c}),a.renderGuideLine(null),b.hidden(!0)):(b.hidden(!1),e=h.invert(d),g.elementMousemove({mouseX:d,mouseY:c,pointXValue:e}),"dblclick"===d3.event.type&&g.elementDblclick({mouseX:d,mouseY:c,pointXValue:e}),"click"===d3.event.type&&g.elementClick({mouseX:d,mouseY:c,pointXValue:e}))}var z=d3.select(this),u=d||960,t=m||400,C=z.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([r]);C.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");
l&&(l.on("touchmove",v).on("mousemove",v,!0).on("mouseout",v,!0).on("dblclick",v).on("click",v),a.guideLine=null,a.renderGuideLine=function(b){e&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=C.select(".nv-interactiveGuideLine").selectAll("line").data(null!=b?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",t).attr("y2",0);a.exit().remove()}))})})}var b=c.models.tooltip();
b.duration(0).hideDelay(0)._isInteractiveLayer(!0).hidden(!1);var d=null,m=null,f={left:0,top:0},h=d3.scale.linear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),e=!0,l=null,p="ActiveXObject"in window;a.dispatch=g;a.tooltip=b;a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};a.height=function(b){if(!arguments.length)return m;
m=b;return a};a.xScale=function(b){if(!arguments.length)return h;h=b;return a};a.showGuideLine=function(b){if(!arguments.length)return e;e=b;return a};a.svgContainer=function(b){if(!arguments.length)return l;l=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;var d="function"!==typeof c?function(a){return a.x}:c;c=d3.bisector(function(a,b){return d(a)-b}).left;c=d3.max([0,c(a,b)-1]);var f=d(a[c]);"undefined"===typeof f&&(f=c);if(f===b)return c;var h=d3.min([c+
1,a.length-1]);a=d(a[h]);"undefined"===typeof a&&(a=h);return Math.abs(a-b)>=Math.abs(f-b)?c:h};c.nearestValueIndex=function(a,b,c){var d=Infinity,f=null;a.forEach(function(a,g){var e=Math.abs(b-a);null!=a&&e<=d&&e<c&&(d=e,f=g)});return f};(function(){c.models.tooltip=function(){function a(){if(l){var a=d3.select(l);"svg"!==a.node().tagName&&(a=a.select("svg"));var b=a.node()?a.attr("viewBox"):null;b&&(b=b.split(" "),a=parseInt(a.style("width"),10)/b[2],w.left*=a,w.top*=a)}}function b(){if(t){a:{if(d&&
d.series){if(d.series instanceof Array){var y=!!d.series.length;break a}if(d.series instanceof Object){d.series=[d.series];y=!0;break a}}y=!1}if(y){a();var f=w.left,q=null!==g?g:w.top;c.dom.write(function(){r||(r=d3.select(l?l:document.body).append("div").attr("class","nvtooltip "+(e?e:"xy-tooltip")).attr("id",k),r.style("top",0).style("left",0),r.style("opacity",0),r.selectAll("div, table, td, tr").classed("nv-pointer-events-none",!0),r.classed("nv-pointer-events-none",!0),v=r.node());var a=I(d);
a&&(v.innerHTML=a);l&&A?c.dom.read(function(){var a=l.getElementsByTagName("svg")[0],b=0,c=0;if(a){a=a.getBoundingClientRect();b=l.getBoundingClientRect();c=a.top;if(0>c)var y=l.getBoundingClientRect(),c=Math.abs(c)>y.height?0:c;c=Math.abs(c-b.top);b=Math.abs(a.left-b.left)}f+=l.offsetLeft+b-2*l.scrollLeft;q+=l.offsetTop+c-2*l.scrollTop;h&&0<h&&(q=Math.floor(q/h)*h);J([f,q])}):J([f,q])});return b}}}var d=null,m="w",f=25,h=0,g=null,e=null,l=null,p=!0,z=400,r=null,v=null,w={left:null,top:null},u={left:0,
top:0},t=!0,C=100,D=!0,A=!1,k="nvtooltip-"+Math.floor(1E5*Math.random()),q=function(a,b){return a},M=function(a){return a},H=function(a,b){return a},I=function(a){if(null===a)return"";var b=d3.select(document.createElement("table"));D&&b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(M(a.value));var c=b.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});c.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color});c.append("td").classed("key",!0).html(function(a,b){return H(a.key,b)});c.append("td").classed("value",!0).html(function(a,b){return q(a.value,b)});c.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",a(.6)).style("border-top-color",a(.6)))});b=b.node().outerHTML;
void 0!==a.footer&&(b+="<div class='footer'>"+a.footer+"</div>");return b},J=function(a){v&&c.dom.read(function(){var b=parseInt(v.offsetHeight,10),d=parseInt(v.offsetWidth,10),y=c.utils.windowSize().width,n=c.utils.windowSize().height,e=window.pageYOffset,F=window.pageXOffset,n=window.innerWidth>=document.body.scrollWidth?n:n-16,y=window.innerHeight>=document.body.scrollHeight?y:y-16,k=function(a){var b=L;do isNaN(a.offsetTop)||(b+=a.offsetTop),a=a.offsetParent;while(a);return b},q=function(a){var b=
B;do isNaN(a.offsetLeft)||(b+=a.offsetLeft),a=a.offsetParent;while(a);return b};switch(m){case "e":var B=a[0]-d-f;var L=a[1]-b/2;q=q(v);k=k(v);q<F&&(B=a[0]+f>F?a[0]+f:F-q+B);k<e&&(L=e-k+L);k+b>e+n&&(L=e+n-k+L-b);break;case "w":B=a[0]+f;L=a[1]-b/2;q=q(v);k=k(v);q+d>y&&(B=a[0]-d-f);k<e&&(L=e+5);k+b>e+n&&(L=e+n-k+L-b);break;case "n":B=a[0]-d/2-5;L=a[1]+f;q=q(v);k=k(v);q<F&&(B=F+5);q+d>y&&(B=B-d/2+5);k+b>e+n&&(L=e+n-k+L-b);break;case "s":B=a[0]-d/2;L=a[1]-b-f;q=q(v);k=k(v);q<F&&(B=F+5);q+d>y&&(B=B-d/
2+5);e>k&&(L=e);break;case "none":B=a[0],L=a[1]-f,q=q(v),k=k(v)}B-=u.left;L-=u.top;var d=v.getBoundingClientRect(),e=window.pageYOffset||document.documentElement.scrollTop,F=window.pageXOffset||document.documentElement.scrollLeft,b="translate("+B+"px, "+L+"px)",O=d3.interpolateString("translate("+(d.left+F)+"px, "+(d.top+e)+"px)",b),e=.1>r.style("opacity");p?r.transition().delay(z).duration(0).style("opacity",0):r.interrupt().transition().duration(e?0:C).styleTween("transform",function(a){return O},
"important").style("-webkit-transform",b).style("opacity",1)})};b.nvPointerEventsClass="nv-pointer-events-none";b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{duration:{get:function(){return C},set:function(a){C=a}},gravity:{get:function(){return m},set:function(a){m=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return e},set:function(a){e=a}},chartContainer:{get:function(){return l},
set:function(a){l=a}},fixedTop:{get:function(){return g},set:function(a){g=a}},enabled:{get:function(){return t},set:function(a){t=a}},hideDelay:{get:function(){return z},set:function(a){z=a}},contentGenerator:{get:function(){return I},set:function(a){I=a}},valueFormatter:{get:function(){return q},set:function(a){q=a}},headerFormatter:{get:function(){return M},set:function(a){M=a}},keyFormatter:{get:function(){return H},set:function(a){H=a}},headerEnabled:{get:function(){return D},set:function(a){D=
a}},_isInteractiveLayer:{get:function(){return A},set:function(a){A=!!a}},position:{get:function(){return w},set:function(a){w.left=void 0!==a.left?a.left:w.left;w.top=void 0!==a.top?a.top:w.top}},offset:{get:function(){return u},set:function(a){u.left=void 0!==a.left?a.left:u.left;u.top=void 0!==a.top?a.top:u.top}},hidden:{get:function(){return p},set:function(a){p!=a&&(p=!!a,b())}},data:{get:function(){return d},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,
a.series.color=a.point.color||a.series.color);d=a}},tooltipElem:{get:function(){return v},set:function(a){}},id:{get:function(){return k},set:function(a){}}});c.utils.initOptions(b);return b}})();c.utils.windowSize=function(){var a={width:640,height:480};if(window.innerWidth&&window.innerHeight)return a.width=window.innerWidth,a.height=window.innerHeight,a;if("CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth)return a.width=document.documentElement.offsetWidth,
a.height=document.documentElement.offsetHeight,a;document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);return a};c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",a)}}};c.utils.getColor=function(a){if(void 0===a)return c.utils.defaultColor();if(Array.isArray(a)){var b=d3.scale.ordinal().range(a);
return function(a,c){return a.color||b(void 0===c?a:c)}}return a};c.utils.defaultColor=function(){return c.utils.getColor(d3.scale.category20().range())};c.utils.customTheme=function(a,b,c){b=b||function(a){return a.key};c=c||d3.scale.category20().range();var d=c.length;return function(f,h){var g=b(f);if("function"===typeof a[g])return a[g]();if(void 0!==a[g])return a[g];d||(d=c.length);--d;return c[d]}};c.utils.pjax=function(a,b){var d=function(d){d3.html(d,function(d){var f=d3.select(b).node();
f.parentNode.replaceChild(d3.select(d).select(b).node(),f);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);d(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if("function"===typeof a.style&&"function"===typeof a.text){var b=parseInt(a.style("font-size").replace("px",""),10);return a.text().length*b*.5}return 0};c.utils.NaNtoZero=
function(a){return"number"!==typeof a||isNaN(a)||null===a||Infinity===a||-Infinity===a?0:a};d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var d=void 0!==b?b:250,m=[],f=this;this.models=function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=!1;(function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=
!0;f.renderEnd("model")})})(a);0>m.indexOf(a)&&m.push(a)});return this};this.reset=function(a){void 0!==a&&(d=a);m=[]};this.transition=function(a,b,c){b=1<arguments.length?[].slice.call(arguments,1):[];c=1<b.length?b.pop():void 0!==d?d:250;a.__rendered=!1;0>m.indexOf(a)&&m.push(a);if(0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var e=0;return a.transition().duration(c).each(function(){++e}).each("end",
function(c,d){0===--e&&(a.__rendered=!0,f.renderEnd.apply(this,b))})};this.renderEnd=function(){m.every(function(a){return a.__rendered})&&(m.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}};c.utils.deepExtend=function(a){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(b){for(var d in b){var m=a[d]instanceof Array,f="object"===typeof b[d];"object"===typeof a[d]&&!m&&f?c.utils.deepExtend(a[d],b[d]):a[d]=b[d]}})};c.utils.state=function(){if(!(this instanceof
c.utils.state))return new c.utils.state;var a={},b=function(){},d=function(){return{}},m=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,!0)});this.getter=function(a){d=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,d){a(b);d&&c()};return this};this.init=function(a){m=m||{};c.utils.deepExtend(m,a)};this.update=function(){m&&(b(m,!1),m=null);var c=d();if(JSON.stringify(c)===JSON.stringify(a))c=!1;else{for(var h in c)void 0===a[h]&&(a[h]=
{}),a[h]=c[h];c=!0}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,c){if("function"===typeof this[a])this[a](c)}.bind(this));return this};c.utils.calcTicksX=function(a,b){for(var d=1,m=0;m<b.length;m+=1)var f=b[m]&&b[m].values?b[m].values.length:0,d=f>d?f:d;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",d);a=a>d?a=d-1:a;a=Math.floor(1>a?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.calcTicksY=function(a,b){for(var d=
1,m=0;m<b.length;m+=1)for(var f=b[m]&&b[m].values?b[m].values:[],h,g=0;g<f.length;g+=1)h=f[g]&&f[g].value?f[g].value:0,d=h>d?h:d;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",d);a=a>d?a=d-1:a;a=Math.floor(1>a?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]=!0;a._options[b]=c;return a},a["_"+b]=function(c){if(!arguments.length)return a._options[b];
a._overrides[b]||(a._options[b]=c);return a})};c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),d=Object.getOwnPropertyNames(a._calls||{}),b=b.concat(d),m;for(m in b)c.utils.initOption(a,b[m])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();
c.utils.symbol=function(){function a(a,f){var h=b.call(this,a,f),g=d.call(this,a,f);return-1!==d3.svg.symbolTypes.indexOf(h)?d3.svg.symbol().type(h).size(g)():c.utils.symbolMap.get(h)(g)}var b,d=64;a.type=function(c){if(!arguments.length)return b;b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return d;d=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var d=Object.getOwnPropertyNames(b._options||{}),m=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||
[],h=b._d3options||[],g=d.concat(m).concat(f).concat(h);g.unshift(b);g.unshift(a);d3.rebind.apply(this,g);a._inherited=c.utils.arrayUnique(d.concat(m).concat(f).concat(d).concat(a._inherited||[]));a._d3options=c.utils.arrayUnique(h.concat(a._d3options||[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})};c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400};c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960};c.utils.availableHeight=
function(a,b,d){return c.utils.sanitizeHeight(a,b)-d.top-d.bottom};c.utils.availableWidth=function(a,b,d){return c.utils.sanitizeWidth(a,b)-d.left-d.right};c.utils.noData=function(a,b){var d=a.options(),m=d.margin(),f=d.noData(),f=null==f?["No Data Available."]:[f],h=c.utils.availableHeight(d.height(),b,m),d=c.utils.availableWidth(d.width(),b,m),d=m.left+d/2,m=m.top+h/2;b.selectAll("g").remove();f=b.selectAll(".nv-noData").data(f);f.enter().append("text").attr("class","nvd3 nv-noData").attr("dy",
"-.7em").style("text-anchor","middle");f.attr("x",d).attr("y",m).text(function(a){return a})};c.models.axis=function(){function a(u){D.reset();u.each(function(a){var k=d3.select(this);c.utils.initSVG(k);a=k.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");k=a.select("g");null!==v?b.ticks(v):"top"!=b.orient()&&"bottom"!=b.orient()||b.ticks(Math.abs(d.range()[1]-d.range()[0])/100);k.watchTransition(D,"axis").call(b);C=C||b.scale();var u=
b.tickFormat();null==u&&(u=C.tickFormat());var t=k.selectAll("text.nv-axislabel").data([g||null]);t.exit().remove();switch(b.orient()){case "top":t.enter().append("text").attr("class","nv-axislabel");var h=2>d.range().length?0:2===d.range().length?d.range()[1]:d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]);t.attr("text-anchor","middle").attr("y",0).attr("x",h/2);if(e){var A=a.selectAll("g.nv-axisMaxMin").data(d.domain());A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",
0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");A.exit().remove();A.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":c});A.watchTransition(D,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d.range()[b])+",0)"})}break;case "bottom":A=w+36;var y=30,x=0,G=k.selectAll("g").select("text"),
E="";l%360&&(G.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;x=c.height;d>y&&(y=d)}),E="rotate("+l+" 0,"+(x/2+b.tickPadding())+")",A=Math.abs(Math.sin(l*Math.PI/180)),A=(A?A*y:y)+30,G.attr("transform",E).style("text-anchor",0<l%360?"start":"end"));t.enter().append("text").attr("class","nv-axislabel");h=2>d.range().length?0:2===d.range().length?d.range()[1]:d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]);t.attr("text-anchor","middle").attr("y",A).attr("x",h/2);e&&(A=a.selectAll("g.nv-axisMaxMin").data([d.domain()[0],
d.domain()[d.domain().length-1]]),A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),A.exit().remove(),A.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a)+(r?d.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",E).style("text-anchor",l?0<l%360?"start":"end":"middle").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":
c}),A.watchTransition(D,"min-max bottom").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d(a)+(r?d.rangeBand()/2:0))+",0)"}));z&&G.attr("transform",function(a,b){return"translate(0,"+(0==b%2?"0":"12")+")"});break;case "right":t.enter().append("text").attr("class","nv-axislabel");t.style("text-anchor",p?"middle":"begin").attr("transform",p?"rotate(90)":"").attr("y",p?-Math.max(m.right,f)+12:-10).attr("x",p?d3.max(d.range())/2:b.tickPadding());e&&(A=a.selectAll("g.nv-axisMaxMin").data(d.domain()),
A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":c}),A.watchTransition(D,"min-max right").attr("transform",function(a,
b){return"translate(0,"+c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1));break;case "left":t.enter().append("text").attr("class","nv-axislabel"),t.style("text-anchor",p?"middle":"end").attr("transform",p?"rotate(-90)":"").attr("y",p?-Math.max(m.left,f)+25-(w||0):-10).attr("x",p?-d3.max(d.range())/2:-b.tickPadding()),e&&(A=a.selectAll("g.nv-axisMaxMin").data(d.domain()),A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",0==b?"nv-axisMin-y":
"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(C(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":c}),A.watchTransition(D,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1))}t.text(function(a){return a});
!e||"left"!==b.orient()&&"right"!==b.orient()||(k.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1);if(d(a)<d.range()[1]+10||d(a)>d.range()[0]-10)(1E-10<a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),d.domain()[0]==d.domain()[1]&&0==d.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1}));if(e&&("top"===b.orient()||"bottom"===b.orient())){var n=[];a.selectAll("g.nv-axisMaxMin").each(function(a,
b){try{b?n.push(d(a)-this.getBoundingClientRect().width-4):n.push(d(a)+this.getBoundingClientRect().width+4)}catch(K){b?n.push(d(a)-4):n.push(d(a)+4)}});k.selectAll("g").each(function(a,b){if(d(a)<n[0]||d(a)>n[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}k.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a)/1E6)&&void 0!==a}).classed("zero",!0);C=d.copy()});D.renderEnd("axis immediate");return a}var b=d3.svg.axis(),d=d3.scale.linear(),
m={top:0,right:0,bottom:0,left:0},f=75,h=60,g=null,e=!0,l=0,p=!0,z=!1,r=!1,v=null,w=0,u=250,t=d3.dispatch("renderEnd");b.scale(d).orient("bottom").tickFormat(function(a){return a});var C,D=c.utils.renderWatch(t,u);a.axis=b;a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return w},set:function(a){w=a}},staggerLabels:{get:function(){return z},set:function(a){z=a}},rotateLabels:{get:function(){return l},set:function(a){l=a}},rotateYLabel:{get:function(){return p},
set:function(a){p=a}},showMaxMin:{get:function(){return e},set:function(a){e=a}},axisLabel:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},ticks:{get:function(){return v},set:function(a){v=a}},width:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return m},set:function(a){m.top=void 0!==a.top?a.top:m.top;m.right=void 0!==a.right?a.right:m.right;m.bottom=void 0!==a.bottom?a.bottom:m.bottom;m.left=void 0!==a.left?a.left:m.left}},
duration:{get:function(){return u},set:function(a){u=a;D.reset(u)}},scale:{get:function(){return d},set:function(e){d=e;b.scale(d);r="function"===typeof d.rangeBands;c.utils.inheritOptionsD3(a,d,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,b,"orient tickValues tickSubdivide tickSize tickPadding tickFormat".split(" "));c.utils.inheritOptionsD3(a,d,["domain","range","rangeBand","rangeBands"]);return a};c.models.boxPlot=function(){function a(q){k.reset();
q.each(function(a){var q=d-b.left-b.right,f=m-b.top-b.bottom;z=d3.select(this);c.utils.initSVG(z);h.domain(r||a.map(function(a,b){return e(a,b)})).rangeBands(w||[0,q],.1);q=[];if(!v)var q=d3.min(a.map(function(a){var b=[];b.push(a.values.Q1);a.values.hasOwnProperty("whisker_low")&&null!==a.values.whisker_low&&b.push(a.values.whisker_low);a.values.hasOwnProperty("outliers")&&null!==a.values.outliers&&(b=b.concat(a.values.outliers));return d3.min(b)})),l=d3.max(a.map(function(a){var b=[];b.push(a.values.Q3);
a.values.hasOwnProperty("whisker_high")&&null!==a.values.whisker_high&&b.push(a.values.whisker_high);a.values.hasOwnProperty("outliers")&&null!==a.values.outliers&&(b=b.concat(a.values.outliers));return d3.max(b)})),q=[q,l];g.domain(v||q);g.range(u||[f,0]);A=A||g.copy().range([g(0),g(0)]);f=z.selectAll("g.nv-wrap").data([a]);f.enter().append("g").attr("class","nvd3 nv-wrap");f.attr("transform","translate("+b.left+","+b.top+")");var y=f.selectAll(".nv-boxplot").data(function(a){return a}),x=y.enter().append("g").style("stroke-opacity",
1E-6).style("fill-opacity",1E-6);y.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(h(e(a,b))+.05*h.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover});y.watchTransition(k,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(b,c){return c*C/a.length}).attr("transform",function(a,b){return"translate("+(h(e(a,b))+.05*h.rangeBand())+", 0)"});y.exit().remove();x.each(function(a,b){var c=d3.select(this);["low","high"].forEach(function(d){a.values.hasOwnProperty("whisker_"+
d)&&null!==a.values["whisker_"+d]&&(c.append("line").style("stroke",a.color?a.color:p(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+d),c.append("line").style("stroke",a.color?a.color:p(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+d))})});f=y.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&null!==a.values.outliers?a.values.outliers:[]});f.enter().append("circle").style("fill",function(a,b,c){return p(a,c)}).style("stroke",function(a,b,c){return p(a,
c)}).on("mouseover",function(a,b,c){d3.select(this).classed("hover",!0);t.elementMouseover({series:{key:a,color:p(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1);t.elementMouseout({series:{key:a,color:p(a,c)},e:d3.event})}).on("mousemove",function(a,b){t.elementMousemove({e:d3.event})});f.attr("class","nv-boxplot-outlier");f.watchTransition(k,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*h.rangeBand()).attr("cy",function(a,b,c){return g(a)}).attr("r","3");
f.exit().remove();var G=function(){return null===D?.9*h.rangeBand():Math.min(75,.9*h.rangeBand())},E=function(){return.45*h.rangeBand()-G()/2},n=function(){return.45*h.rangeBand()+G()/2};["low","high"].forEach(function(a){var b="low"===a?"Q1":"Q3";y.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(k,"nv-boxplot: boxplots").attr("x1",.45*h.rangeBand()).attr("y1",function(b,c){return g(b.values["whisker_"+a])}).attr("x2",.45*h.rangeBand()).attr("y2",function(a,c){return g(a.values[b])});
y.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(k,"nv-boxplot: boxplots").attr("x1",E).attr("y1",function(b,c){return g(b.values["whisker_"+a])}).attr("x2",n).attr("y2",function(b,c){return g(b.values["whisker_"+a])})});["low","high"].forEach(function(a){x.selectAll(".nv-boxplot-"+a).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0);t.elementMouseover({series:{key:b.values["whisker_"+a],color:p(b,d)},e:d3.event})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",
!1);t.elementMouseout({series:{key:b.values["whisker_"+a],color:p(b,d)},e:d3.event})}).on("mousemove",function(a,b){t.elementMousemove({e:d3.event})})});x.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",!0);t.elementMouseover({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||p(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||p(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||p(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",
function(a,b){d3.select(this).classed("hover",!1);t.elementMouseout({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||p(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||p(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||p(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){t.elementMousemove({e:d3.event})});y.select("rect.nv-boxplot-box").watchTransition(k,"nv-boxplot: boxes").attr("y",function(a,b){return g(a.values.Q3)}).attr("width",G).attr("x",E).attr("height",
function(a,b){return Math.abs(g(a.values.Q3)-g(a.values.Q1))||1}).style("fill",function(a,b){return a.color||p(a,b)}).style("stroke",function(a,b){return a.color||p(a,b)});x.append("line").attr("class","nv-boxplot-median");y.select("line.nv-boxplot-median").watchTransition(k,"nv-boxplot: boxplots line").attr("x1",E).attr("y1",function(a,b){return g(a.values.Q2)}).attr("x2",n).attr("y2",function(a,b){return g(a.values.Q2)});h.copy();A=g.copy()});k.renderEnd("nv-boxplot immediate");return a}var b={top:0,
right:0,bottom:0,left:0},d=960,m=500,f=Math.floor(1E4*Math.random()),h=d3.scale.ordinal(),g=d3.scale.linear(),e=function(a){return a.x},l=function(a){return a.y},p=c.utils.defaultColor(),z=null,r,v,w,u,t=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=250,D=null,A,k=c.utils.renderWatch(t,C);a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=
a}},maxBoxWidth:{get:function(){return D},set:function(a){D=a}},x:{get:function(){return e},set:function(a){e=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return g},set:function(a){g=a}},xDomain:{get:function(){return r},set:function(a){r=a}},yDomain:{get:function(){return v},set:function(a){v=a}},xRange:{get:function(){return w},set:function(a){w=a}},yRange:{get:function(){return u},set:function(a){u=a}},id:{get:function(){return f},
set:function(a){f=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a)}},duration:{get:function(){return C},set:function(a){C=a;k.reset(C)}}});c.utils.initOptions(a);return a};c.models.boxPlotChart=function(){function a(e){A.reset();A.models(b);l&&A.models(d);p&&A.models(m);
e.each(function(e){var k=d3.select(this);c.utils.initSVG(k);var q=(h||parseInt(k.style("width"))||960)-f.left-f.right,A=(g||parseInt(k.style("height"))||400)-f.top-f.bottom;a.update=function(){C.beforeUpdate();k.transition().duration(D).call(a)};a.container=this;if(e&&e.length&&e.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&a.values.hasOwnProperty("Q3")}).length)k.selectAll(".nv-noData").remove();else return e=k.selectAll(".nv-noData").data([t]),e.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),e.attr("x",f.left+q/2).attr("y",f.top+A/2).text(function(a){return a}),a;w=b.xScale();u=b.yScale().clamp(!0);var v=k.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([e]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),x=y.append("defs"),v=v.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");y.append("g").attr("class",
"nv-barsWrap");v.attr("transform","translate("+f.left+","+f.top+")");z&&v.select(".nv-y.nv-axis").attr("transform","translate("+q+",0)");b.width(q).height(A);v.select(".nv-barsWrap").datum(e.filter(function(a){return!a.disabled})).transition().call(b);x.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");v.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",w.rangeBand()*(r?2:1)).attr("height",16).attr("x",-w.rangeBand()/(r?1:2));l&&(d.scale(w).ticks(c.utils.calcTicksX(q/100,
e)).tickSize(-A,0),v.select(".nv-x.nv-axis").attr("transform","translate(0,"+u.range()[0]+")"),v.select(".nv-x.nv-axis").call(d),e=v.select(".nv-x.nv-axis").selectAll("g"),r&&e.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0==c%2?"5":"17")+")"}));p&&(m.scale(u).ticks(Math.floor(A/36)).tickSize(-q,0),v.select(".nv-y.nv-axis").call(m));v.select(".nv-zeroLine line").attr("x1",0).attr("x2",q).attr("y1",u(0)).attr("y2",u(0))});A.renderEnd("nv-boxplot chart immediate");return a}
var b=c.models.boxPlot(),d=c.models.axis(),m=c.models.axis(),f={top:15,right:10,bottom:50,left:60},h=null,g=null,e=c.utils.getColor(),l=!0,p=!0,z=!1,r=!1,v=c.models.tooltip(),w,u,t="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),D=250;d.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a});m.orient(z?"right":"left").tickFormat(d3.format(",.1f"));v.duration(0);var A=c.utils.renderWatch(C,D);b.dispatch.on("elementMouseover.tooltip",function(a){v.data(a).hidden(!1)});
b.dispatch.on("elementMouseout.tooltip",function(a){v.data(a).hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){v.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=C;a.boxplot=b;a.xAxis=d;a.yAxis=m;a.tooltip=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return g},set:function(a){g=a}},staggerLabels:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return l},
set:function(a){l=a}},showYAxis:{get:function(){return p},set:function(a){p=a}},tooltips:{get:function(){return tooltips},set:function(a){tooltips=a}},tooltipContent:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top;f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return D},
set:function(a){D=a;A.reset(D);b.duration(D);d.duration(D);m.duration(D)}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a);b.color(e)}},rightAlignYAxis:{get:function(){return z},set:function(a){z=a;m.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.bullet=function(){function a(d){d.each(function(a,d){var u=l-b.left-b.right,t=p-b.top-b.bottom;z=d3.select(this);c.utils.initSVG(z);var k=f.call(this,a,d).slice().sort(d3.descending),
q=h.call(this,a,d).slice().sort(d3.descending),r=g.call(this,a,d).slice().sort(d3.descending),H=(a.rangeLabels?a.rangeLabels:[]).slice(),I=(a.markerLabels?a.markerLabels:[]).slice(),C=(a.measureLabels?a.measureLabels:[]).slice(),y=d3.scale.linear().domain(d3.extent(d3.merge([e,k]))).range(m?[u,0]:[0,u]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(y.range());this.__chart__=y;var x=d3.min(k),G=d3.max(k),E=k[1],k=z.selectAll("g.nv-wrap.nv-bullet").data([a]),u=k.enter().append("g").attr("class",
"nvd3 nv-wrap nv-bullet").append("g"),n=k.select("g");u.append("rect").attr("class","nv-range nv-rangeMax");u.append("rect").attr("class","nv-range nv-rangeAvg");u.append("rect").attr("class","nv-range nv-rangeMin");u.append("rect").attr("class","nv-measure");k.attr("transform","translate("+b.left+","+b.top+")");var N=function(a){return Math.abs(y(a)-y(0))},F=function(a){return 0>a?y(a):y(0)};n.select("rect.nv-rangeMax").attr("height",t).attr("width",N(0<G?G:x)).attr("x",F(0<G?G:x)).datum(0<G?G:x);
n.select("rect.nv-rangeAvg").attr("height",t).attr("width",N(E)).attr("x",F(E)).datum(E);n.select("rect.nv-rangeMin").attr("height",t).attr("width",N(G)).attr("x",F(G)).attr("width",N(0<G?x:G)).attr("x",F(0<G?x:G)).datum(0<G?x:G);n.select("rect.nv-measure").style("fill",v).attr("height",t/3).attr("y",t/3).attr("width",0>r?y(0)-y(r[0]):y(r[0])-y(0)).attr("x",F(r)).on("mouseover",function(){w.elementMouseover({value:r[0],label:C[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){w.elementMousemove({value:r[0],
label:C[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){w.elementMouseout({value:r[0],label:C[0]||"Current",color:d3.select(this).style("fill")})});x=t/6;q=q.map(function(a,b){return{value:a,label:I[b]}});u.selectAll("path.nv-markerTriangle").data(q).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(a){return"translate("+y(a.value)+","+t/2+")"}).attr("d","M0,"+x+"L"+x+","+-x+" "+-x+","+-x+"Z").on("mouseover",function(a){w.elementMouseover({value:a.value,
label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[y(a.value),t/2]})}).on("mousemove",function(a){w.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){w.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});k.selectAll(".nv-range").on("mouseover",function(a,b){w.elementMouseover({value:a,label:H[b]||(b?1==b?"Mean":"Minimum":"Maximum"),color:d3.select(this).style("fill")})}).on("mousemove",
function(){w.elementMousemove({value:r[0],label:C[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){w.elementMouseout({value:a,label:H[b]||(b?1==b?"Mean":"Minimum":"Maximum"),color:d3.select(this).style("fill")})})});return a}var b={top:0,right:0,bottom:0,left:0},d="left",m=!1,f=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[0]},g=function(a){return a.measures},e=[0],l=380,p=30,z=null,r=null,v=c.utils.getColor(["#1f77b4"]),w=d3.dispatch("elementMouseover",
"elementMouseout","elementMousemove");a.dispatch=w;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return f},set:function(a){f=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return e},set:function(a){e=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return p},set:function(a){p=a}},tickFormat:{get:function(){return r},set:function(a){r=
a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},orient:{get:function(){return d},set:function(a){d=a;m="right"==d||"bottom"==d}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.bulletChart=function(){function a(d){d.each(function(t,m){var u=d3.select(this);c.utils.initSVG(u);
var k=c.utils.availableWidth(p,u,h),q=z-h.top-h.bottom;a.update=function(){a(d)};a.container=this;if(t&&g.call(this,t,m))u.selectAll(".nv-noData").remove();else return c.utils.noData(a,u),a;var w=g.call(this,t,m).slice().sort(d3.descending),H=e.call(this,t,m).slice().sort(d3.descending),I=l.call(this,t,m).slice().sort(d3.descending),C=u.selectAll("g.nv-wrap.nv-bulletChart").data([t]),y=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),u=C.select("g");y.append("g").attr("class",
"nv-bulletWrap");y.append("g").attr("class","nv-titles");C.attr("transform","translate("+h.left+","+h.top+")");var x=d3.scale.linear().domain([0,Math.max(w[0],H[0],I[0])]).range(f?[k,0]:[0,k]),G=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(x.range());this.__chart__=x;w=y.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(z-h.top-h.bottom)/2+")");w.append("text").attr("class","nv-title").text(function(a){return a.title});w.append("text").attr("class",
"nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(k).height(q);w=u.select(".nv-bulletWrap");d3.transition(w).call(b);var E=r||x.tickFormat(k/100),k=u.selectAll("g.nv-tick").data(x.ticks(v?v:k/50),function(a){return this.textContent||E(a)}),u=k.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+G(a)+",0)"}).style("opacity",1E-6);u.append("line").attr("y1",q).attr("y2",7*q/6);u.append("text").attr("text-anchor","middle").attr("dy",
"1em").attr("y",7*q/6).text(E);u=d3.transition(k).attr("transform",function(a){return"translate("+x(a)+",0)"}).style("opacity",1);u.select("line").attr("y1",q).attr("y2",7*q/6);u.select("text").attr("y",7*q/6);d3.transition(k.exit()).attr("transform",function(a){return"translate("+x(a)+",0)"}).style("opacity",1E-6).remove()});d3.timer.flush();return a}var b=c.models.bullet(),d=c.models.tooltip(),m="left",f=!1,h={top:5,right:40,bottom:20,left:120},g=function(a){return a.ranges},e=function(a){return a.markers?
a.markers:[0]},l=function(a){return a.measures},p=null,z=55,r=null,v=null,w=null,u=d3.dispatch("tooltipShow","tooltipHide");d.duration(0).headerEnabled(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color};d.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){d.position({top:d3.event.pageY,left:d3.event.pageX})()});a.bullet=b;a.dispatch=u;a.tooltip=d;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return e},set:function(a){e=a}},measures:{get:function(){return l},set:function(a){l=a}},width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return z},set:function(a){z=a}},tickFormat:{get:function(){return r},set:function(a){r=a}},ticks:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return w},set:function(a){w=a}},
tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top;h.right=void 0!==a.right?a.right:h.right;h.bottom=void 0!==a.bottom?a.bottom:h.bottom;h.left=void 0!==
a.left?a.left:h.left}},orient:{get:function(){return m},set:function(a){m=a;f="right"==m||"bottom"==m}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.candlestickBar=function(){function a(y){y.each(function(a){h=d3.select(this);var y=c.utils.availableWidth(d,h,b),E=c.utils.availableHeight(m,h,b);c.utils.initSVG(h);var n=y/a[0].values.length*.45;g.domain(q||d3.extent(a[0].values.map(l).concat(u)));C?g.range(H||[.5*y/a[0].values.length,y*(a[0].values.length-.5)/a[0].values.length]):
g.range(H||[5+n/2,y-n/2-5]);e.domain(M||[d3.min(a[0].values.map(w).concat(t)),d3.max(a[0].values.map(v).concat(t))]).range(I||[E,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-.01*g.domain()[0],g.domain()[1]+.01*g.domain()[1]]):g.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));a=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]);var k=a.enter().append("g").attr("class",
"nvd3 nv-wrap nv-candlestickBar"),F=k.append("defs"),k=k.append("g"),x=a.select("g");k.append("g").attr("class","nv-ticks");a.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){J.chartClick({data:a,index:b,pos:d3.event,id:f})});F.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");a.select("#nv-chart-clip-path-"+f+" rect").attr("width",y).attr("height",E);x.attr("clip-path",D?"url(#nv-chart-clip-path-"+f+")":"");y=a.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});
y.exit().remove();y=y.enter().append("g").attr("class",function(a,b,c){return(z(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});y.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+g(l(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(v(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(w(a,b))});y.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(g(l(a,
b))-n/2)+","+(e(p(a,b))-(z(a,b)>r(a,b)?e(r(a,b))-e(z(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",n).attr("height",function(a,b){var c=z(a,b),d=r(a,b);return c>d?e(d)-e(c):e(c)-e(d)});h.selectAll(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+g(l(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(v(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(w(a,b))});h.selectAll(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+
(g(l(a,b))-n/2)+","+(e(p(a,b))-(z(a,b)>r(a,b)?e(r(a,b))-e(z(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",n).attr("height",function(a,b){var c=z(a,b),d=r(a,b);return c>d?e(d)-e(c):e(c)-e(d)})});return a}var b={top:0,right:0,bottom:0,left:0},d=null,m=null,f=Math.floor(1E4*Math.random()),h,g=d3.scale.linear(),e=d3.scale.linear(),l=function(a){return a.x},p=function(a){return a.y},z=function(a){return a.open},r=function(a){return a.close},v=function(a){return a.high},w=function(a){return a.low},
u=[],t=[],C=!1,D=!0,A=c.utils.defaultColor(),k=!1,q,M,H,I,J=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)};a.dispatch=J;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return q},set:function(a){q=a}},yDomain:{get:function(){return M},set:function(a){M=a}},xRange:{get:function(){return H},set:function(a){H=a}},yRange:{get:function(){return I},set:function(a){I=a}},forceX:{get:function(){return u},
set:function(a){u=a}},forceY:{get:function(){return t},set:function(a){t=a}},padData:{get:function(){return C},set:function(a){C=a}},clipEdge:{get:function(){return D},set:function(a){D=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return p},set:function(a){p=a}},open:{get:function(){return z()},set:function(a){z=a}},close:{get:function(){return r()},set:function(a){r=
a}},high:{get:function(){return v},set:function(a){v=a}},low:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!=a.top?a.top:b.top;b.right=void 0!=a.right?a.right:b.right;b.bottom=void 0!=a.bottom?a.bottom:b.bottom;b.left=void 0!=a.left?a.left:b.left}},color:{get:function(){return A},set:function(a){A=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.cumulativeLineChart=function(){function a(n){K.reset();K.models(d);u&&K.models(m);
t&&K.models(f);n.each(function(n){function L(){Y.data([F]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var O=d3.select(this);c.utils.initSVG(O);O.classed("nv-chart-"+H,!0);var y=this,l=c.utils.availableWidth(r,O,p),K=c.utils.availableHeight(v,O,p);a.update=function(){0===E?O.call(a):O.transition().duration(E).call(a)};a.container=this;I.setter(B(n),a.update).getter(S(n)).update();I.disabled=n.map(function(a){return!!a.disabled});if(!J)for(W in J={},I)J[W]=I[W]instanceof Array?I[W].slice(0):
I[W];var W=d3.behavior.drag().on("dragstart",function(b,c){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,b){F.x=d3.event.x;F.i=Math.round(N.invert(F.x));L()}).on("dragend",function(b,c){d3.select(a.container).style("cursor","auto");I.index=F.i;G.stateChange(I)});if(n&&n.length&&n.filter(function(a){return a.values.length}).length)O.selectAll(".nv-noData").remove();else return c.utils.noData(a,O),a;q=d.xScale();M=d.yScale();if(k)d.yDomain(null);else{var T=n.filter(function(a){return!a.disabled}).map(function(a,
b){var c=d3.extent(a.values,d.y());-.95>c[0]&&(c[0]=-.95);return[(c[0]-c[1])/(1+c[1]),(c[1]-c[0])/(1+c[0])]}),T=[d3.min(T,function(a){return a[0]}),d3.max(T,function(a){return a[1]})];d.yDomain(T)}N.domain([0,n[0].values.length-1]).range([0,l]).clamp(!0);n=b(F.i,n);var U=A?"none":"all",ea=O.selectAll("g.nv-wrap.nv-cumulativeLine").data([n]),ba=ea.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),T=ea.select("g");ba.append("g").attr("class","nv-interactive");ba.append("g").attr("class",
"nv-x nv-axis").style("pointer-events","none");ba.append("g").attr("class","nv-y nv-axis");ba.append("g").attr("class","nv-background");ba.append("g").attr("class","nv-linesWrap").style("pointer-events",U);ba.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");ba.append("g").attr("class","nv-legendWrap");ba.append("g").attr("class","nv-controlsWrap");w&&(h.width(l),T.select(".nv-legendWrap").datum(n).call(h),p.top!=h.height()&&(p.top=h.height(),K=c.utils.availableHeight(v,O,
p)),T.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")"));D&&(U=[{key:"Re-scale y-axis",disabled:!k}],g.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),T.select(".nv-controlsWrap").datum(U).attr("transform","translate(0,"+-p.top+")").call(g));ea.attr("transform","translate("+p.left+","+p.top+")");C&&T.select(".nv-y.nv-axis").attr("transform","translate("+l+",0)");U=n.filter(function(a){return a.tempDisabled});ea.select(".tempDisabled").remove();
U.length&&ea.append("text").attr("class","tempDisabled").attr("x",l/2).attr("y","-.71em").style("text-anchor","end").text(U.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");A&&(e.width(l).height(K).margin({left:p.left,top:p.top}).svgContainer(O).xScale(q),ea.select(".nv-interactive").call(e));ba.select(".nv-background").append("rect");T.select(".nv-background rect").attr("width",l).attr("height",K);d.y(function(a){return a.display.y}).width(l).height(K).color(n.map(function(a,
b){return a.color||z(a,b)}).filter(function(a,b){return!n[b].disabled&&!n[b].tempDisabled}));ea=T.select(".nv-linesWrap").datum(n.filter(function(a){return!a.disabled&&!a.tempDisabled}));ea.call(d);n.forEach(function(a,b){a.seriesIndex=b});ba=n.filter(function(a){return!a.disabled&&!!x(a)});ba=T.select(".nv-avgLinesWrap").selectAll("line").data(ba,function(a){return a.key});U=function(a){a=M(x(a));return 0>a?0:a>K?K:a};ba.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",
function(a,b){return d.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",l).attr("y1",U).attr("y2",U);ba.style("stroke-opacity",function(a){a=M(x(a));return 0>a||a>K?0:1}).attr("x1",0).attr("x2",l).attr("y1",U).attr("y2",U);ba.exit().remove();var Y=ea.selectAll(".nv-indexLine").data([F]);Y.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(W);Y.attr("transform",function(a){return"translate("+
N(a.i)+",0)"}).attr("height",K);u&&(m.scale(q)._ticks(c.utils.calcTicksX(l/70,n)).tickSize(-K,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),T.select(".nv-x.nv-axis").call(m));t&&(f.scale(M)._ticks(c.utils.calcTicksY(K/36,n)).tickSize(-l,0),T.select(".nv-y.nv-axis").call(f));T.select(".nv-background rect").on("click",function(){F.x=d3.mouse(this)[0];F.i=Math.round(N.invert(F.x));I.index=F.i;G.stateChange(I);L()});d.dispatch.on("elementClick",function(a){F.i=a.pointIndex;
F.x=N(F.i);I.index=F.i;G.stateChange(I);L()});g.dispatch.on("legendClick",function(b,c){b.disabled=!b.disabled;k=!b.disabled;I.rescaleY=k;G.stateChange(I);a.update()});h.dispatch.on("stateChange",function(b){for(var c in b)I[c]=b[c];G.stateChange(I);a.update()});e.dispatch.on("elementMousemove",function(b){d.clearHighlights();var E,k,B,F=[];n.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,n){k=c.interactiveBisect(e.values,b.pointXValue,a.x());d.highlightPoint(n,k,!0);
var O=e.values[k];"undefined"!==typeof O&&("undefined"===typeof E&&(E=O),"undefined"===typeof B&&(B=a.xScale()(a.x()(O,k))),F.push({key:e.key,value:a.y()(O,k),color:z(e,e.seriesIndex)}))});if(2<F.length){var O=a.yScale().invert(b.mouseY),L=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),O=c.nearestValueIndex(F.map(function(a){return a.value}),O,L);null!==O&&(F[O].highlight=!0)}O=m.tickFormat()(a.x()(E,k),k);e.tooltip.position({left:B+p.left,top:b.mouseY+p.top}).chartContainer(y.parentNode).valueFormatter(function(a,
b){return f.tickFormat()(a)}).data({value:O,series:F})();e.renderGuideLine(B)});e.dispatch.on("elementMouseout",function(a){d.clearHighlights()});G.on("changeState",function(b){"undefined"!==typeof b.disabled&&(n.forEach(function(a,c){a.disabled=b.disabled[c]}),I.disabled=b.disabled);"undefined"!==typeof b.index&&(F.i=b.index,F.x=N(F.i),I.index=b.index,Y.data([F]));"undefined"!==typeof b.rescaleY&&(k=b.rescaleY);a.update()})});K.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){L||
(L=d.y());return b.map(function(b,c){if(!b.values)return b;var d=b.values[a];if(null==d)return b;var e=L(d,a);if(-.95>e&&!n)return b.tempDisabled=!0,b;b.tempDisabled=!1;b.values=b.values.map(function(a,b){a.display={y:(L(a,b)-e)/(1+e)};return a});return b})}var d=c.models.line(),m=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.models.legend(),e=c.interactiveGuideline(),l=c.models.tooltip(),p={top:30,right:30,bottom:50,left:60},z=c.utils.defaultColor(),r=null,v=null,w=!0,u=!0,t=!0,C=!1,
D=!0,A=!1,k=!0,q,M,H=d.id(),I=c.utils.state(),J=null,y=null,x=function(a){return a.average},G=d3.dispatch("stateChange","changeState","renderEnd"),E=250,n=!1;I.index=0;I.rescaleY=k;m.orient("bottom").tickPadding(7);f.orient(C?"right":"left");l.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return m.tickFormat()(a,b)});g.updateState(!1);var N=d3.scale.linear(),F={i:0,x:0},K=c.utils.renderWatch(G,E),S=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
index:F.i,rescaleY:k}}},B=function(a){return function(b){void 0!==b.index&&(F.i=b.index);void 0!==b.rescaleY&&(k=b.rescaleY);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};d.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};b.point=c;l.data(b).position(b.pos).hidden(!1)});d.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)});var L=null;a.dispatch=G;a.lines=d;a.legend=h;a.controls=g;a.xAxis=m;a.yAxis=
f;a.interactiveLayer=e;a.state=I;a.tooltip=l;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return v},set:function(a){v=a}},rescaleY:{get:function(){return k},set:function(a){k=a}},showControls:{get:function(){return D},set:function(a){D=a}},showLegend:{get:function(){return w},set:function(a){w=a}},average:{get:function(){return x},set:function(a){x=a}},defaultState:{get:function(){return J},set:function(a){J=
a}},noData:{get:function(){return y},set:function(a){y=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},noErrorCheck:{get:function(){return n},set:function(a){n=a}},tooltips:{get:function(){return l.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");l.enabled(!!a)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");
l.contentGenerator(a)}},margin:{get:function(){return p},set:function(a){p.top=void 0!==a.top?a.top:p.top;p.right=void 0!==a.right?a.right:p.right;p.bottom=void 0!==a.bottom?a.bottom:p.bottom;p.left=void 0!==a.left?a.left:p.left}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a);h.color(z)}},useInteractiveGuideline:{get:function(){return A},set:function(b){A=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return C},set:function(a){C=a;f.orient(a?
"right":"left")}},duration:{get:function(){return E},set:function(a){E=a;d.duration(E);m.duration(E);f.duration(E);K.reset(E)}}});c.utils.inheritOptions(a,d);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(f){H.reset();f.each(function(a){var f=d-b.left-b.right,q=m-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var G=u&&t?[]:a.map(function(a){return a.values.map(function(a,b){return{x:l(a,b),y:p(a,
b),y0:a.y0}})});g.domain(u||d3.merge(G).map(function(a){return a.x})).rangeBands(C||[0,f],.1);e.domain(t||d3.extent(d3.merge(G).map(function(a){return a.y}).concat(z)));v?e.range(D||[q-(0>e.domain()[0]?12:0),0<e.domain()[1]?12:0]):e.range(D||[q,0]);M=M||e.copy().range([e(0),e(0)]);f=h.selectAll("g.nv-wrap.nv-discretebar").data([a]);q=f.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");f.select("g");q.append("g").attr("class","nv-groups");f.attr("transform","translate("+b.left+
","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});f.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);f.exit().watchTransition(H,"discreteBar: exit groups").style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});f.watchTransition(H,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",
.75);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();q=f.enter().append("g").attr("transform",function(a,b,c){return"translate("+(g(l(a,b))+.05*g.rangeBand())+", "+e(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);A.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);A.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,
b){A.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){A.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){A.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});q.append("rect").attr("height",0).attr("width",.9*g.rangeBand()/a.length);v?(q.append("text").attr("text-anchor","middle"),f.select("text").text(function(a,b){return w(p(a,
b))}).watchTransition(H,"discreteBar: bars text").attr("x",.9*g.rangeBand()/2).attr("y",function(a,b){return 0>p(a,b)?e(p(a,b))-e(0)+12:-4})):f.selectAll("text").remove();f.attr("class",function(a,b){return 0>p(a,b)?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||r(a,b)}).style("stroke",function(a,b){return a.color||r(a,b)}).select("rect").attr("class",k).watchTransition(H,"discreteBar: bars rect").attr("width",.9*g.rangeBand()/a.length);f.watchTransition(H,"discreteBar: bars").attr("transform",
function(a,b){var c=g(l(a,b))+.05*g.rangeBand(),d=0>p(a,b)?e(0):1>e(0)-e(p(a,b))?e(0)-1:e(p(a,b));return"translate("+c+", "+d+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(e(p(a,b))-e(t&&t[0]||0))||1)});g.copy();M=e.copy()});H.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,m=500,f=Math.floor(1E4*Math.random()),h,g=d3.scale.ordinal(),e=d3.scale.linear(),l=function(a){return a.x},p=function(a){return a.y},z=[0],r=c.utils.defaultColor(),
v=!1,w=d3.format(",.2f"),u,t,C,D,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",q=250,M,H=c.utils.renderWatch(A,q);a.dispatch=A;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return z},set:function(a){z=a}},showValues:{get:function(){return v},set:function(a){v=
a}},x:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return p},set:function(a){p=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return u},set:function(a){u=a}},yDomain:{get:function(){return t},set:function(a){t=a}},xRange:{get:function(){return C},set:function(a){C=a}},yRange:{get:function(){return D},set:function(a){D=a}},valueFormat:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return f},
set:function(a){f=a}},rectClass:{get:function(){return k},set:function(a){k=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a)}},duration:{get:function(){return q},set:function(a){q=a;H.reset(q)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(k){A.reset();
A.models(b);p&&A.models(d);z&&A.models(m);k.each(function(k){var f=d3.select(this);c.utils.initSVG(f);var q=c.utils.availableWidth(g,f,h),l=c.utils.availableHeight(e,f,h);a.update=function(){C.beforeUpdate();f.transition().duration(D).call(a)};a.container=this;if(k&&k.length&&k.filter(function(a){return a.values.length}).length)f.selectAll(".nv-noData").remove();else return c.utils.noData(a,f),a;w=b.xScale();u=b.yScale().clamp(!0);var t=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([k]),y=
t.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),x=y.append("defs"),t=t.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");y.append("g").attr("class","nv-barsWrap");t.attr("transform","translate("+h.left+","+h.top+")");r&&t.select(".nv-y.nv-axis").attr("transform","translate("+q+",0)");b.width(q).height(l);t.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled})).transition().call(b);
x.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");t.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",w.rangeBand()*(v?2:1)).attr("height",16).attr("x",-w.rangeBand()/(v?1:2));p&&(d.scale(w)._ticks(c.utils.calcTicksX(q/100,k)).tickSize(-l,0),t.select(".nv-x.nv-axis").attr("transform","translate(0,"+(u.range()[0]+(b.showValues()&&0>u.domain()[0]?16:0))+")"),t.select(".nv-x.nv-axis").call(d),y=t.select(".nv-x.nv-axis").selectAll("g"),v&&y.selectAll("text").attr("transform",
function(a,b,c){return"translate(0,"+(0==c%2?"5":"17")+")"}));z&&(m.scale(u)._ticks(c.utils.calcTicksY(l/36,k)).tickSize(-q,0),t.select(".nv-y.nv-axis").call(m));t.select(".nv-zeroLine line").attr("x1",0).attr("x2",q).attr("y1",u(0)).attr("y2",u(0))});A.renderEnd("discreteBar chart immediate");return a}var b=c.models.discreteBar(),d=c.models.axis(),m=c.models.axis(),f=c.models.tooltip(),h={top:15,right:10,bottom:50,left:60},g=null,e=null,l=c.utils.getColor(),p=!0,z=!0,r=!1,v=!1,w,u,t=null,C=d3.dispatch("beforeUpdate",
"renderEnd"),D=250;d.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a});m.orient(r?"right":"left").tickFormat(d3.format(",.1f"));f.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return m.tickFormat()(a,b)}).keyFormatter(function(a,b){return d.tickFormat()(a,b)});var A=c.utils.renderWatch(C,D);b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};f.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){f.hidden(!0)});
b.dispatch.on("elementMousemove.tooltip",function(a){f.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=C;a.discretebar=b;a.xAxis=d;a.yAxis=m;a.tooltip=f;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return e},set:function(a){e=a}},staggerLabels:{get:function(){return v},set:function(a){v=a}},showXAxis:{get:function(){return p},set:function(a){p=a}},showYAxis:{get:function(){return z},
set:function(a){z=a}},noData:{get:function(){return t},set:function(a){t=a}},tooltips:{get:function(){return f.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");f.enabled(!!a)}},tooltipContent:{get:function(){return f.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");f.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top;h.right=void 0!==a.right?
a.right:h.right;h.bottom=void 0!==a.bottom?a.bottom:h.bottom;h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return D},set:function(a){D=a;A.reset(D);b.duration(D);d.duration(D);m.duration(D)}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a);b.color(l)}},rightAlignYAxis:{get:function(){return r},set:function(a){r=a;m.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(d){r.reset();
d.each(function(a){var d="x"==f?"y":"x",l=d3.select(this);c.utils.initSVG(l);z=z||e;a=l.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");l=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=l.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return g(a,b)});l=a.selectAll("line.nv-dist"+
f).data(function(a){return a.values});l.enter().append("line").attr(f+"1",function(a,b){return z(h(a,b))}).attr(f+"2",function(a,b){return z(h(a,b))});r.transition(a.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return e(h(a,b))}).attr(f+"2",function(a,b){return e(h(a,b))}).style("stroke-opacity",0).remove();l.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(d+"1",0).attr(d+"2",m);r.transition(l,"dist").attr(f+"1",function(a,b){return e(h(a,b))}).attr(f+
"2",function(a,b){return e(h(a,b))});z=e.copy()});r.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=400,m=8,f="x",h=function(a){return a[f]},g=c.utils.defaultColor(),e=d3.scale.linear(),l=250,p=d3.dispatch("renderEnd"),z,r=c.utils.renderWatch(p,l);a.options=c.utils.optionsFunc.bind(a);a.dispatch=p;a.margin=function(c){if(!arguments.length)return b;b.top="undefined"!=typeof c.top?c.top:b.top;b.right="undefined"!=typeof c.right?c.right:b.right;b.bottom="undefined"!=
typeof c.bottom?c.bottom:b.bottom;b.left="undefined"!=typeof c.left?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};a.axis=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return m;m=b;return a};a.getData=function(b){if(!arguments.length)return h;h=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return e;e=b;return a};a.color=function(b){if(!arguments.length)return g;g=c.utils.getColor(b);return a};
a.duration=function(b){if(!arguments.length)return l;l=b;r.reset(l);return a};return a};c.models.furiousLegend=function(){function a(u){function t(a,b){if("furious"!=w)return"#000";if(r)return a.disengaged?h(a,b):"#fff";if(!r)return a.disabled?h(a,b):"#fff"}function C(a,b){return r&&"furious"==w?a.disengaged?"#fff":h(a,b):a.disabled?"#fff":h(a,b)}u.each(function(a){var u=d-b.left-b.right,k=d3.select(this);c.utils.initSVG(k);k=k.selectAll("g.nv-legend").data([a]);k.enter().append("g").attr("class",
"nvd3 nv-legend").append("g");a=k.select("g");k.attr("transform","translate("+b.left+","+b.top+")");var q=a.selectAll(".nv-series").data(function(a){return"furious"!=w?a:a.filter(function(a){return r?!0:!a.disengaged})}),k=q.enter().append("g").attr("class","nv-series");if("classic"==w){k.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);var M=q.select("circle")}else"furious"==w&&(k.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",
3).attr("ry",3),M=q.select("rect"),k.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),q.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",t(a,b))}));k.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",
".32em").attr("dx","8");var H=q.select("text.nv-legend-text");q.on("mouseover",function(a,b){v.legendMouseover(a,b)}).on("mouseout",function(a,b){v.legendMouseout(a,b)}).on("click",function(a,b){v.legendClick(a,b);var c=q.data();p&&("classic"==w?z?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1})):"furious"==w&&(r?(a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:
a.userDisabled,a.disabled=a.disengaged||a.userDisabled):r||(a.disabled=!a.disabled,a.userDisabled=a.disabled,c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1}))),v.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})}))}).on("dblclick",function(a,b){if("furious"!=w||!r)if(v.legendDblclick(a,b),p){var c=q.data();c.forEach(function(a){a.disabled=!0;"furious"==
w&&(a.userDisabled=a.disabled)});a.disabled=!1;"furious"==w&&(a.userDisabled=a.disabled);v.stateChange({disabled:c.map(function(a){return!!a.disabled})})}});q.classed("nv-disabled",function(a){return a.userDisabled});q.exit().remove();H.attr("fill",t).text(f);switch(w){case "furious":var I=23;break;case "classic":I=20}if(g){var D=[];q.each(function(a,b){var d=d3.select(this).select("text");try{var n=d.node().getComputedTextLength();if(0>=n)throw Error();}catch(W){n=c.utils.calcApproxTextWidth(d)}D.push(n+
e)});for(var y=0,x=0,k=[];x<u&&y<D.length;)k[y]=D[y],x+=D[y++];for(0===y&&(y=1);x>u&&1<y;){k=[];y--;for(x=0;x<D.length;x++)D[x]>(k[x%y]||0)&&(k[x%y]=D[x]);x=k.reduce(function(a,b,c,d){return a+b})}for(var G=[],E=u=0;u<y;u++)G[u]=E,E+=k[u];q.attr("transform",function(a,b){return"translate("+G[b%y]+","+(5+Math.floor(b/y)*I)+")"});l?a.attr("transform","translate("+(d-b.right-x)+","+b.top+")"):a.attr("transform","translate(0,"+b.top+")");m=b.top+b.bottom+Math.ceil(D.length/y)*I}else{var n=5,N=5,F=0,K;
q.attr("transform",function(a,c){var f=d3.select(this).select("text").node().getComputedTextLength()+e;K=N;d<b.left+b.right+K+f&&(N=K=5,n+=I);N+=f;N>F&&(F=N);return"translate("+K+","+n+")"});a.attr("transform","translate("+(d-b.right-F)+","+b.top+")");m=b.top+b.bottom+n+15}"furious"==w&&M.attr("width",function(a,b){return H[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);M.style("fill",C).style("stroke",function(a,b){return a.color||h(a,b)})});return a}var b={top:5,
right:0,bottom:5,left:0},d=400,m=20,f=function(a){return a.key},h=c.utils.getColor(),g=!0,e=28,l=!0,p=!0,z=!1,r=!1,v=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),w="classic";a.dispatch=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},set:function(a){g=
a}},rightAlign:{get:function(){return l},set:function(a){l=a}},padding:{get:function(){return e},set:function(a){e=a}},updateState:{get:function(){return p},set:function(a){p=a}},radioButtonMode:{get:function(){return z},set:function(a){z=a}},expanded:{get:function(){return r},set:function(a){r=a}},vers:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?
a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBar=function(){function a(H){H.each(function(a){M.reset();h=d3.select(this);var H=c.utils.availableWidth(d,h,b),y=c.utils.availableHeight(m,h,b);c.utils.initSVG(h);g.domain(t||d3.extent(a[0].values.map(l).concat(z)));v?g.range(D||[.5*H/a[0].values.length,H*(a[0].values.length-.5)/a[0].values.length]):g.range(D||[0,H]);
e.domain(C||d3.extent(a[0].values.map(p).concat(r))).range(A||[y,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-.01*g.domain()[0],g.domain()[1]+.01*g.domain()[1]]):g.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));var x=h.selectAll("g.nv-wrap.nv-historicalBar-"+f).data([a[0].values]),G=x.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+f),E=G.append("defs"),
G=G.append("g"),n=x.select("g");G.append("g").attr("class","nv-bars");x.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){k.chartClick({data:a,index:b,pos:d3.event,id:f})});E.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");x.select("#nv-chart-clip-path-"+f+" rect").attr("width",H).attr("height",y);n.attr("clip-path",w?"url(#nv-chart-clip-path-"+f+")":"");y=x.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return l(a,
b)});y.exit().remove();y.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(e(Math.max(0,p(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(e(p(a,b))-e(0)))}).attr("transform",function(b,c){return"translate("+(g(l(b,c))-H/a[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){q&&(d3.select(this).classed("hover",!0),k.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){q&&(d3.select(this).classed("hover",
!1),k.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){q&&k.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){q&&(k.elementClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(a,b){q&&(k.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())});y.attr("fill",function(a,b){return u(a,b)}).attr("class",
function(a,b,c){return(0>p(a,b)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(M,"bars").attr("transform",function(b,c){return"translate("+(g(l(b,c))-H/a[0].values.length*.45)+",0)"}).attr("width",H/a[0].values.length*.9);y.watchTransition(M,"bars").attr("y",function(a,b){var d=0>p(a,b)?e(0):1>e(0)-e(p(a,b))?e(0)-1:e(p(a,b));return c.utils.NaNtoZero(d)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(e(p(a,b))-e(0)),1))})});M.renderEnd("historicalBar immediate");
return a}var b={top:0,right:0,bottom:0,left:0},d=null,m=null,f=Math.floor(1E4*Math.random()),h=null,g=d3.scale.linear(),e=d3.scale.linear(),l=function(a){return a.x},p=function(a){return a.y},z=[],r=[0],v=!1,w=!0,u=c.utils.defaultColor(),t,C,D,A,k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),q=!0,M=c.utils.renderWatch(k,0);a.highlightPoint=function(a,b){h.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=
function(){h.select(".nv-bars .nv-bar.hover").classed("hover",!1)};a.dispatch=k;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},forceX:{get:function(){return z},set:function(a){z=a}},forceY:{get:function(){return r},set:function(a){r=a}},padData:{get:function(){return v},set:function(a){v=a}},x:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return p},set:function(a){p=
a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return t},set:function(a){t=a}},yDomain:{get:function(){return C},set:function(a){C=a}},xRange:{get:function(){return D},set:function(a){D=a}},yRange:{get:function(){return A},set:function(a){A=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return q},set:function(a){q=a}},
margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(e){J.reset();J.models(d);w&&J.models(m);u&&J.models(f);var y=d3.select(this),E=this;c.utils.initSVG(y);var n=c.utils.availableWidth(z,
y,l),x=c.utils.availableHeight(r,y,l);b.update=function(){y.transition().duration(I).call(b)};b.container=this;k.disabled=e.map(function(a){return!!a.disabled});if(!q)for(K in q={},k)q[K]=k[K]instanceof Array?k[K].slice(0):k[K];if(e&&e.length&&e.filter(function(a){return a.values.length}).length)y.selectAll(".nv-noData").remove();else return c.utils.noData(b,y),b;D=d.xScale();A=d.yScale();var F=y.selectAll("g.nv-wrap.nv-historicalBarChart").data([e]);var K=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var S=F.select("g");K.append("g").attr("class","nv-x nv-axis");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-barsWrap");K.append("g").attr("class","nv-legendWrap");K.append("g").attr("class","nv-interactive");v&&(h.width(n),S.select(".nv-legendWrap").datum(e).call(h),l.top!=h.height()&&(l.top=h.height(),x=c.utils.availableHeight(r,y,l)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")"));F.attr("transform","translate("+l.left+","+l.top+")");t&&S.select(".nv-y.nv-axis").attr("transform",
"translate("+n+",0)");C&&(g.width(n).height(x).margin({left:l.left,top:l.top}).svgContainer(y).xScale(D),F.select(".nv-interactive").call(g));d.width(n).height(x).color(e.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!e[b].disabled}));S.select(".nv-barsWrap").datum(e.filter(function(a){return!a.disabled})).transition().call(d);w&&(m.scale(D)._ticks(c.utils.calcTicksX(n/100,e)).tickSize(-x,0),S.select(".nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")"),S.select(".nv-x.nv-axis").transition().call(m));
u&&(f.scale(A)._ticks(c.utils.calcTicksY(x/36,e)).tickSize(-n,0),S.select(".nv-y.nv-axis").transition().call(f));g.dispatch.on("elementMousemove",function(a){d.clearHighlights();var n,k,B,F=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,f){k=c.interactiveBisect(e.values,a.pointXValue,b.x());d.highlightPoint(k,!0);var E=e.values[k];void 0!==E&&(void 0===n&&(n=E),void 0===B&&(B=b.xScale()(b.x()(E,k))),F.push({key:e.key,value:b.y()(E,k),color:p(e,e.seriesIndex),data:e.values[k]}))});
var y=m.tickFormat()(b.x()(n,k));g.tooltip.position({left:B+l.left,top:a.mouseY+l.top}).chartContainer(E.parentNode).valueFormatter(function(a,b){return f.tickFormat()(a)}).data({value:y,index:k,series:F})();g.renderGuideLine(B)});g.dispatch.on("elementMouseout",function(a){H.tooltipHide();d.clearHighlights()});h.dispatch.on("legendClick",function(c,d){c.disabled=!c.disabled;e.filter(function(a){return!a.disabled}).length||e.map(function(a){a.disabled=!1;F.selectAll(".nv-series").classed("disabled",
!1);return a});k.disabled=e.map(function(a){return!!a.disabled});H.stateChange(k);a.transition().call(b)});h.dispatch.on("legendDblclick",function(a){e.forEach(function(a){a.disabled=!0});a.disabled=!1;k.disabled=e.map(function(a){return!!a.disabled});H.stateChange(k);b.update()});H.on("changeState",function(a){"undefined"!==typeof a.disabled&&(e.forEach(function(b,c){b.disabled=a.disabled[c]}),k.disabled=a.disabled);b.update()})});J.renderEnd("historicalBarChart immediate");return b}var d=a||c.models.historicalBar(),
m=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.interactiveGuideline(),e=c.models.tooltip(),l={top:30,right:90,bottom:50,left:90},p=c.utils.defaultColor(),z=null,r=null,v=!1,w=!0,u=!0,t=!1,C=!1,D,A,k={},q=null,M=null,H=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),I=250;m.orient("bottom").tickPadding(7);f.orient(t?"right":"left");e.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return m.tickFormat()(a,
b)});var J=c.utils.renderWatch(H,0);d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color};e.data(a).hidden(!1)});d.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)});d.dispatch.on("elementMousemove.tooltip",function(a){e.position({top:d3.event.pageY,left:d3.event.pageX})()});b.dispatch=H;b.bars=d;b.legend=h;b.xAxis=m;b.yAxis=f;b.interactiveLayer=g;b.tooltip=e;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},
{width:{get:function(){return z},set:function(a){z=a}},height:{get:function(){return r},set:function(a){r=a}},showLegend:{get:function(){return v},set:function(a){v=a}},showXAxis:{get:function(){return w},set:function(a){w=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return M},set:function(a){M=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");
e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top;l.right=void 0!==a.right?a.right:l.right;l.bottom=void 0!==a.bottom?a.bottom:l.bottom;l.left=void 0!==a.left?a.left:l.left}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a);h.color(p);d.color(p)}},duration:{get:function(){return I},
set:function(a){I=a;J.reset(I);f.duration(I);m.duration(I)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a;f.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return C},set:function(a){C=a;!0===a&&b.interactive(!1)}}});c.utils.inheritOptions(b,d);c.utils.initOptions(b);return b};c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(!0);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;
return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());a.useInteractiveGuideline(!0);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=
b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(u){function t(a,b){if("furious"!=w)return"#000";if(r)return a.disengaged?"#000":
"#fff";if(!r)return a.color||(a.color=h(a,b)),a.disabled?a.color:"#fff"}function C(a,b){return r&&"furious"==w?a.disengaged?"#eee":a.color||h(a,b):a.color||h(a,b)}function D(a,b){return r&&"furious"==w?1:a.disabled?0:1}u.each(function(a){var k=d-b.left-b.right,q=d3.select(this);c.utils.initSVG(q);var h=q.selectAll("g.nv-legend").data([a]);a=h.enter().append("g").attr("class","nvd3 nv-legend").append("g");q=h.select("g");h.attr("transform","translate("+b.left+","+b.top+")");var u=q.selectAll(".nv-series").data(function(a){return"furious"!=
w?a:a.filter(function(a){return r?!0:!a.disengaged})}),h=u.enter().append("g").attr("class","nv-series");switch(w){case "furious":var A=23;break;case "classic":A=20}if("classic"==w){h.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);var J=u.select("circle")}else"furious"==w&&(h.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),J=u.select(".nv-legend-symbol"),h.append("g").attr("class","nv-check-box").property("innerHTML",
'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),u.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",t(a,b))}));h.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var y=u.select("text.nv-legend-text");u.on("mouseover",function(a,b){v.legendMouseover(a,
b)}).on("mouseout",function(a,b){v.legendMouseout(a,b)}).on("click",function(a,b){v.legendClick(a,b);var c=u.data();p&&("classic"==w?z?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1})):"furious"==w&&(r?(a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled):r||(a.disabled=!a.disabled,a.userDisabled=a.disabled,c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&
c.forEach(function(a){a.disabled=a.userDisabled=!1}))),v.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})}))}).on("dblclick",function(a,b){if("furious"!=w||!r)if(v.legendDblclick(a,b),p){var c=u.data();c.forEach(function(a){a.disabled=!0;"furious"==w&&(a.userDisabled=a.disabled)});a.disabled=!1;"furious"==w&&(a.userDisabled=a.disabled);v.stateChange({disabled:c.map(function(a){return!!a.disabled})})}});u.classed("nv-disabled",function(a){return a.userDisabled});
u.exit().remove();y.attr("fill",t).text(f);var x=0;if(g){var G=[];u.each(function(a,b){var d=d3.select(this).select("text");try{var n=d.node().getComputedTextLength();if(0>=n)throw Error();}catch(V){n=c.utils.calcApproxTextWidth(d)}G.push(n+e)});for(var E=0,h=[],x=0;x<k&&E<G.length;)h[E]=G[E],x+=G[E++];for(0===E&&(E=1);x>k&&1<E;){h=[];E--;for(var n=0;n<G.length;n++)G[n]>(h[n%E]||0)&&(h[n%E]=G[n]);x=h.reduce(function(a,b,c,d){return a+b})}for(var N=[],n=k=0;k<E;k++)N[k]=n,n+=h[k];u.attr("transform",
function(a,b){return"translate("+N[b%E]+","+(5+Math.floor(b/E)*A)+")"});l?q.attr("transform","translate("+(d-b.right-x)+","+b.top+")"):q.attr("transform","translate(0,"+b.top+")");m=b.top+b.bottom+Math.ceil(G.length/E)*A}else{var F=5,K=5,S=0,B;u.attr("transform",function(a,c){var n=d3.select(this).select("text").node().getComputedTextLength()+e;B=K;d<b.left+b.right+B+n&&(K=B=5,F+=A);K+=n;K>S&&(S=K);x<B+S&&(x=B+S);return"translate("+B+","+F+")"});q.attr("transform","translate("+(d-b.right-S)+","+b.top+
")");m=b.top+b.bottom+F+15}"furious"==w&&(J.attr("width",function(a,b){return y[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),a.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),q.select(".nv-legend-bg").transition().duration(300).attr("x",-A).attr("width",x+A-12).attr("height",m+10).attr("y",-b.top-10).attr("opacity",r?1:0));J.style("fill",C).style("fill-opacity",D).style("stroke",C)});return a}var b={top:5,right:0,
bottom:5,left:0},d=400,m=20,f=function(a){return a.key},h=c.utils.getColor(),g=!0,e=32,l=!0,p=!0,z=!1,r=!1,v=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),w="classic";a.dispatch=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},set:function(a){g=
a}},rightAlign:{get:function(){return l},set:function(a){l=a}},padding:{get:function(){return e},set:function(a){e=a}},updateState:{get:function(){return p},set:function(a){p=a}},radioButtonMode:{get:function(){return z},set:function(a){z=a}},expanded:{get:function(){return r},set:function(a){r=a}},vers:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?
a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=function(){function a(q){k.reset();k.models(b);q.each(function(a){h=d3.select(this);var q=c.utils.availableWidth(m,h,d),t=c.utils.availableHeight(f,h,d);c.utils.initSVG(h);v=b.xScale();w=b.yScale();D=D||v;A=A||w;a=h.selectAll("g.nv-wrap.nv-line").data([a]);var C=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),y=
C.append("defs"),x=C.append("g"),C=a.select("g");x.append("g").attr("class","nv-groups");x.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+d.left+","+d.top+")");b.width(q).height(t);x=a.select(".nv-scatterWrap");x.call(b);y.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",q).attr("height",0<t?t:0);C.attr("clip-path",r?"url(#nv-edge-clip-"+b.id()+")":"");x.attr("clip-path",r?"url(#nv-edge-clip-"+b.id()+
")":"");q=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});q.enter().append("g").style("stroke-opacity",1E-6).style("stroke-width",function(a){return a.strokeWidth||1.5}).style("fill-opacity",1E-6);q.exit().remove();q.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return g(a,b)}).style("stroke",function(a,b){return g(a,b)});q.watchTransition(k,"line: groups").style("stroke-opacity",
1).style("fill-opacity",function(a){return a.fillOpacity||.5});t=q.selectAll("path.nv-area").data(function(a){return z(a)?[a]:[]});t.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(u).defined(p).x(function(a,b){return c.utils.NaNtoZero(D(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(A(l(a,b)))}).y1(function(a,b){return A(0>=w.domain()[0]?0<=w.domain()[1]?0:w.domain()[1]:w.domain()[0])}).apply(this,[a.values])});q.exit().selectAll("path.nv-area").remove();
t.watchTransition(k,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(u).defined(p).x(function(a,b){return c.utils.NaNtoZero(v(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(w(l(a,b)))}).y1(function(a,b){return w(0>=w.domain()[0]?0<=w.domain()[1]?0:w.domain()[1]:w.domain()[0])}).apply(this,[a.values])});q=q.selectAll("path.nv-line").data(function(a){return[a.values]});q.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(u).defined(p).x(function(a,
b){return c.utils.NaNtoZero(D(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(A(l(a,b)))}));q.watchTransition(k,"line: linePaths").attr("d",d3.svg.line().interpolate(u).defined(p).x(function(a,b){return c.utils.NaNtoZero(v(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(w(l(a,b)))}));D=v.copy();A=w.copy()});k.renderEnd("line immediate");return a}var b=c.models.scatter(),d={top:0,right:0,bottom:0,left:0},m=960,f=500,h=null,g=c.utils.defaultColor(),e=function(a){return a.x},l=function(a){return a.y},
p=function(a,b){return!isNaN(l(a,b))&&null!==l(a,b)},z=function(a){return a.area},r=!1,v,w,u="linear",t=250,C=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");b.pointSize(16).pointDomain([16,256]);var D,A,k=c.utils.renderWatch(C,t);a.dispatch=C;a.scatter=b;b.dispatch.on("elementClick",function(){C.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",function(){C.elementMouseover.apply(this,arguments)});b.dispatch.on("elementMouseout",function(){C.elementMouseout.apply(this,
arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return f},set:function(a){f=a}},defined:{get:function(){return p},set:function(a){p=a}},interpolate:{get:function(){return u},set:function(a){u=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==
a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}},duration:{get:function(){return t},set:function(a){t=a;k.reset(t);b.duration(t)}},isArea:{get:function(){return z},set:function(a){z=d3.functor(a)}},x:{get:function(){return e},set:function(a){e=a;b.x(a)}},y:{get:function(){return l},set:function(a){l=a;b.y(a)}},color:{get:function(){return g},set:function(a){g=c.utils.getColor(a);b.color(g)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(g){I.reset();
I.models(b);v&&I.models(d);w&&I.models(m);g.each(function(g){var E=d3.select(this),n=this;c.utils.initSVG(E);var q=c.utils.availableWidth(p,E,e),F=c.utils.availableHeight(z,E,e);a.update=function(){0===H?E.call(a):E.transition().duration(H).call(a)};a.container=this;A.setter(y(g),a.update).getter(J(g)).update();A.disabled=g.map(function(a){return!!a.disabled});if(!k)for(x in k={},A)k[x]=A[x]instanceof Array?A[x].slice(0):A[x];if(g&&g.length&&g.filter(function(a){return a.values.length}).length)E.selectAll(".nv-noData").remove();
else return c.utils.noData(a,E),a;C=b.xScale();D=b.yScale();var x=E.selectAll("g.nv-wrap.nv-lineChart").data([g]);var G=x.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),B=x.select("g");G.append("rect").style("opacity",0);G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis");G.append("g").attr("class","nv-linesWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-interactive");B.select("rect").attr("width",q).attr("height",
0<F?F:0);r&&(f.width(q),B.select(".nv-legendWrap").datum(g).call(f),e.top!=f.height()&&(e.top=f.height(),F=c.utils.availableHeight(z,E,e)),x.select(".nv-legendWrap").attr("transform","translate(0,"+-e.top+")"));x.attr("transform","translate("+e.left+","+e.top+")");u&&B.select(".nv-y.nv-axis").attr("transform","translate("+q+",0)");t&&(h.width(q).height(F).margin({left:e.left,top:e.top}).svgContainer(E).xScale(C),x.select(".nv-interactive").call(h));b.width(q).height(F).color(g.map(function(a,b){return a.color||
l(a,b)}).filter(function(a,b){return!g[b].disabled}));B.select(".nv-linesWrap").datum(g.filter(function(a){return!a.disabled})).call(b);v&&(d.scale(C)._ticks(c.utils.calcTicksX(q/100,g)).tickSize(-F,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")"),B.select(".nv-x.nv-axis").call(d));w&&(m.scale(D)._ticks(c.utils.calcTicksY(F/36,g)).tickSize(-q,0),B.select(".nv-y.nv-axis").call(m));f.dispatch.on("stateChange",function(b){for(var c in b)A[c]=b[c];M.stateChange(A);a.update()});
h.dispatch.on("elementMousemove",function(f){b.clearHighlights();var k,B,E,F=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){B=c.interactiveBisect(d.values,f.pointXValue,a.x());var n=d.values[B],h=a.y()(n,B);null!=h&&b.highlightPoint(e,B,!0);void 0!==n&&(void 0===k&&(k=n),void 0===E&&(E=a.xScale()(a.x()(n,B))),F.push({key:d.key,value:h,color:l(d,d.seriesIndex)}))});if(2<F.length){var q=a.yScale().invert(f.mouseY),t=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),
q=c.nearestValueIndex(F.map(function(a){return a.value}),q,t);null!==q&&(F[q].highlight=!0)}q=d.tickFormat()(a.x()(k,B));h.tooltip.position({left:f.mouseX+e.left,top:f.mouseY+e.top}).chartContainer(n.parentNode).valueFormatter(function(a,b){return null==a?"N/A":m.tickFormat()(a)}).data({value:q,index:B,series:F})();h.renderGuideLine(E)});h.dispatch.on("elementClick",function(d){var e,n=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var f=c.interactiveBisect(b.values,
d.pointXValue,a.x()),k=b.values[f];if("undefined"!==typeof k){"undefined"===typeof e&&(e=a.xScale()(a.x()(k,f)));var B=a.yScale()(a.y()(k,f));n.push({point:k,pointIndex:f,pos:[e,B],seriesIndex:b.seriesIndex,series:b})}});b.dispatch.elementClick(n)});h.dispatch.on("elementMouseout",function(a){b.clearHighlights()});M.on("changeState",function(b){"undefined"!==typeof b.disabled&&g.length===b.disabled.length&&(g.forEach(function(a,c){a.disabled=b.disabled[c]}),A.disabled=b.disabled);a.update()})});I.renderEnd("lineChart immediate");
return a}var b=c.models.line(),d=c.models.axis(),m=c.models.axis(),f=c.models.legend(),h=c.interactiveGuideline(),g=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},l=c.utils.defaultColor(),p=null,z=null,r=!0,v=!0,w=!0,u=!1,t=!1,C,D,A=c.utils.state(),k=null,q=null,M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),H=250;d.orient("bottom").tickPadding(7);m.orient(u?"right":"left");g.valueFormatter(function(a,b){return m.tickFormat()(a,b)}).headerFormatter(function(a,
b){return d.tickFormat()(a,b)});var I=c.utils.renderWatch(M,H),J=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},y=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){g.data(a).position(a.pos).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){g.hidden(!0)});a.dispatch=M;a.lines=b;a.legend=f;a.xAxis=d;a.yAxis=m;a.interactiveLayer=h;a.tooltip=g;a.dispatch=
M;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},defaultState:{get:function(){return k},set:function(a){k=a}},noData:{get:function(){return q},set:function(a){q=a}},tooltips:{get:function(){return g.enabled()},
set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top;e.right=void 0!==a.right?a.right:e.right;e.bottom=void 0!==a.bottom?a.bottom:e.bottom;e.left=void 0!==a.left?a.left:e.left}},duration:{get:function(){return H},
set:function(a){H=a;I.reset(H);b.duration(H);d.duration(H);m.duration(H)}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a);f.color(l);b.color(l)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a;m.orient(u?"right":"left")}},useInteractiveGuideline:{get:function(){return t},set:function(a){if(t=a)b.interactive(!1),b.useVoronoi(!1)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.linePlusBarChart=function(){function a(B){B.each(function(B){function w(){v.empty()||
v.extent(G);ka.data([v.empty()?n.domain():G]).each(function(a,b){var c=n(a[0])-n.range()[0],d=n.range()[1]-n(a[1]);d3.select(this).select(".left").attr("width",0>c?0:c);d3.select(this).select(".right").attr("x",n(a[1])).attr("width",0>d?0:d)})}function T(){G=v.empty()?null:v.extent();x=v.empty()?n.domain():v.extent();L.brush({extent:x,brush:v});w();m.width(Y).height(fa).color(B.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!B[b].disabled&&B[b].bar}));b.width(Y).height(fa).color(B.map(function(a,
b){return a.color||q(a,b)}).filter(function(a,b){return!B[b].disabled&&!B[b].bar}));var a=aa.select(".nv-focus .nv-barsWrap").datum(ha.length?ha.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return m.x()(a,b)>=x[0]&&m.x()(a,b)<=x[1]})}}):[{values:[]}]),d=aa.select(".nv-focus .nv-linesWrap").datum(ia[0].disabled?[{values:[]}]:ia.map(function(a,c){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,c){return b.x()(a,c)>=x[0]&&b.x()(a,c)<=
x[1]})}}));E=ha.length?m.xScale():b.xScale();h.scale(E)._ticks(c.utils.calcTicksX(Y/100,B)).tickSize(-fa,0);h.domain([Math.ceil(x[0]),Math.floor(x[1])]);aa.select(".nv-x.nv-axis").transition().duration(O).call(h);a.transition().duration(O).call(m);d.transition().duration(O).call(b);aa.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")");e.scale(N)._ticks(c.utils.calcTicksY(fa/36,B)).tickSize(-Y,0);l.scale(F)._ticks(c.utils.calcTicksY(fa/36,B)).tickSize(ha.length?0:-Y,
0);aa.select(".nv-focus .nv-y1.nv-axis").style("opacity",ha.length?1:0);aa.select(".nv-focus .nv-y2.nv-axis").style("opacity",ia.length&&!ia[0].disabled?1:0).attr("transform","translate("+E.range()[1]+",0)");aa.select(".nv-focus .nv-y1.nv-axis").transition().duration(O).call(e);aa.select(".nv-focus .nv-y2.nv-axis").transition().duration(O).call(l)}var X=d3.select(this);c.utils.initSVG(X);var Y=c.utils.availableWidth(C,X,u),fa=c.utils.availableHeight(D,X,u)-(H?y:0),ga=y-t.top-t.bottom;a.update=function(){X.transition().duration(O).call(a)};
a.container=this;W.setter(P(B),a.update).getter(R(B)).update();W.disabled=B.map(function(a){return!!a.disabled});if(!Q)for(ca in Q={},W)Q[ca]=W[ca]instanceof Array?W[ca].slice(0):W[ca];if(B&&B.length&&B.filter(function(a){return a.values.length}).length)X.selectAll(".nv-noData").remove();else return c.utils.noData(a,X),a;var ha=B.filter(function(a){return!a.disabled&&a.bar}),ia=B.filter(function(a){return!a.bar});E=m.xScale();n=g.scale();N=m.yScale();F=b.yScale();K=f.yScale();S=d.yScale();var ca=
B.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:A(a,b),y:k(a,b)}})});var da=B.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:A(a,b),y:k(a,b)}})});E.range([0,Y]);n.domain(d3.extent(d3.merge(ca.concat(da)),function(a){return a.x})).range([0,Y]);ca=X.selectAll("g.nv-wrap.nv-linePlusBar").data([B]);var da=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),aa=
ca.select("g");da.append("g").attr("class","nv-legendWrap");var ja=da.append("g").attr("class","nv-focus");ja.append("g").attr("class","nv-x nv-axis");ja.append("g").attr("class","nv-y1 nv-axis");ja.append("g").attr("class","nv-y2 nv-axis");ja.append("g").attr("class","nv-barsWrap");ja.append("g").attr("class","nv-linesWrap");da=da.append("g").attr("class","nv-context");da.append("g").attr("class","nv-x nv-axis");da.append("g").attr("class","nv-y1 nv-axis");da.append("g").attr("class","nv-y2 nv-axis");
da.append("g").attr("class","nv-barsWrap");da.append("g").attr("class","nv-linesWrap");da.append("g").attr("class","nv-brushBackground");da.append("g").attr("class","nv-x nv-brush");M&&(da=r.align()?Y/2:Y,ja=r.align()?da:0,r.width(da),aa.select(".nv-legendWrap").datum(B.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?V:Z);return a})).call(r),u.top!=r.height()&&(u.top=r.height(),fa=c.utils.availableHeight(D,X,u)-y),aa.select(".nv-legendWrap").attr("transform",
"translate("+ja+","+-u.top+")"));ca.attr("transform","translate("+u.left+","+u.top+")");aa.select(".nv-context").style("display",H?"initial":"none");f.width(Y).height(ga).color(B.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!B[b].disabled&&B[b].bar}));d.width(Y).height(ga).color(B.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!B[b].disabled&&!B[b].bar}));ca=aa.select(".nv-context .nv-barsWrap").datum(ha.length?ha:[{values:[]}]);da=aa.select(".nv-context .nv-linesWrap").datum(ia[0].disabled?
[{values:[]}]:ia);aa.select(".nv-context").attr("transform","translate(0,"+(fa+u.bottom+t.top)+")");ca.transition().call(f);da.transition().call(d);J&&(g._ticks(c.utils.calcTicksX(Y/100,B)).tickSize(-ga,0),aa.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+K.range()[0]+")"),aa.select(".nv-context .nv-x.nv-axis").transition().call(g));I&&(p.scale(K)._ticks(ga/36).tickSize(-Y,0),z.scale(S)._ticks(ga/36).tickSize(ha.length?0:-Y,0),aa.select(".nv-context .nv-y3.nv-axis").style("opacity",
ha.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),aa.select(".nv-context .nv-y2.nv-axis").style("opacity",ia.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),aa.select(".nv-context .nv-y1.nv-axis").transition().call(p),aa.select(".nv-context .nv-y2.nv-axis").transition().call(z));v.x(n).on("brush",T);G&&v.extent(G);var ka=aa.select(".nv-brushBackground").selectAll("g").data([G||v.extent()]);ca=ka.enter().append("g");ca.append("rect").attr("class","left").attr("x",0).attr("y",
0).attr("height",ga);ca.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",ga);ca=aa.select(".nv-x.nv-brush").call(v);ca.selectAll("rect").attr("height",ga);ca.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,c=ga/3;return"M"+.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});r.dispatch.on("stateChange",function(b){for(var c in b)W[c]=b[c];
L.stateChange(W);a.update()});L.on("changeState",function(b){"undefined"!==typeof b.disabled&&(B.forEach(function(a,c){a.disabled=b.disabled[c]}),W.disabled=b.disabled);a.update()});T()});return a}var b=c.models.line(),d=c.models.line(),m=c.models.historicalBar(),f=c.models.historicalBar(),h=c.models.axis(),g=c.models.axis(),e=c.models.axis(),l=c.models.axis(),p=c.models.axis(),z=c.models.axis(),r=c.models.legend(),v=d3.svg.brush(),w=c.models.tooltip(),u={top:30,right:30,bottom:30,left:60},t={top:0,
right:30,bottom:20,left:60},C=null,D=null,A=function(a){return a.x},k=function(a){return a.y},q=c.utils.defaultColor(),M=!0,H=!0,I=!1,J=!0,y=50,x,G=null,E,n,N,F,K,S,B=null,L=d3.dispatch("brush","stateChange","changeState"),O=0,W=c.utils.state(),Q=null,V=" (left axis)",Z=" (right axis)";b.clipEdge(!0);d.interactive(!1);h.orient("bottom").tickPadding(5);e.orient("left");l.orient("right");g.orient("bottom").tickPadding(5);p.orient("left");z.orient("right");w.headerEnabled(!0).headerFormatter(function(a,
b){return h.tickFormat()(a,b)});var R=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},P=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){w.duration(100).valueFormatter(function(a,b){return l.tickFormat()(a,b)}).data(a).position(a.pos).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){w.hidden(!0)});m.dispatch.on("elementMouseover.tooltip",function(b){b.value=
a.x()(b.data);b.series={value:a.y()(b.data),color:b.color};w.duration(0).valueFormatter(function(a,b){return e.tickFormat()(a,b)}).data(b).hidden(!1)});m.dispatch.on("elementMouseout.tooltip",function(a){w.hidden(!0)});m.dispatch.on("elementMousemove.tooltip",function(a){w.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=L;a.legend=r;a.lines=b;a.lines2=d;a.bars=m;a.bars2=f;a.xAxis=h;a.x2Axis=g;a.y1Axis=e;a.y2Axis=l;a.y3Axis=p;a.y4Axis=z;a.tooltip=w;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return C},set:function(a){C=a}},height:{get:function(){return D},set:function(a){D=a}},showLegend:{get:function(){return M},set:function(a){M=a}},brushExtent:{get:function(){return G},set:function(a){G=a}},noData:{get:function(){return B},set:function(a){B=a}},focusEnable:{get:function(){return H},set:function(a){H=a}},focusHeight:{get:function(){return y},set:function(a){y=a}},focusShowAxisX:{get:function(){return J},set:function(a){J=a}},focusShowAxisY:{get:function(){return I},
set:function(a){I=a}},legendLeftAxisHint:{get:function(){return V},set:function(a){V=a}},legendRightAxisHint:{get:function(){return Z},set:function(a){Z=a}},tooltips:{get:function(){return w.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");w.enabled(!!a)}},tooltipContent:{get:function(){return w.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");w.contentGenerator(a)}},margin:{get:function(){return u},
set:function(a){u.top=void 0!==a.top?a.top:u.top;u.right=void 0!==a.right?a.right:u.right;u.bottom=void 0!==a.bottom?a.bottom:u.bottom;u.left=void 0!==a.left?a.left:u.left}},duration:{get:function(){return O},set:function(a){O=a}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);r.color(q)}},x:{get:function(){return A},set:function(a){A=a;b.x(a);d.x(a);m.x(a);f.x(a)}},y:{get:function(){return k},set:function(a){k=a;b.y(a);d.y(a);m.y(a);f.y(a)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.lineWithFocusChart=function(){function a(F){F.each(function(F){function p(){l.empty()||l.extent(I);T.data([l.empty()?q.domain():I]).each(function(a,b){var c=q(a[0])-A.range()[0],d=K-q(a[1]);d3.select(this).select(".left").attr("width",0>c?0:c);d3.select(this).select(".right").attr("x",q(a[1])).attr("width",0>d?0:d)})}function B(){I=l.empty()?null:l.extent();var a=l.empty()?q.domain():l.extent();1>=Math.abs(a[0]-a[1])||(y.brush({extent:a,brush:l}),p(),P.select(".nv-focus .nv-linesWrap").datum(F.filter(function(a){return!a.disabled}).map(function(c,
d){return{key:c.key,area:c.area,values:c.values.filter(function(c,d){return b.x()(c,d)>=a[0]&&b.x()(c,d)<=a[1]})}})).transition().duration(x).call(b),P.select(".nv-focus .nv-x.nv-axis").transition().duration(x).call(m),P.select(".nv-focus .nv-y.nv-axis").transition().duration(x).call(f))}var L=d3.select(this),O=this;c.utils.initSVG(L);var K=c.utils.availableWidth(u,L,r),Q=c.utils.availableHeight(t,L,r)-C,V=C-v.top-v.bottom;a.update=function(){L.transition().duration(x).call(a)};a.container=this;G.setter(N(F),
a.update).getter(n(F)).update();G.disabled=F.map(function(a){return!!a.disabled});if(!E)for(J in E={},G)E[J]=G[J]instanceof Array?G[J].slice(0):G[J];if(F&&F.length&&F.filter(function(a){return a.values.length}).length)L.selectAll(".nv-noData").remove();else return c.utils.noData(a,L),a;A=b.xScale();k=b.yScale();q=d.xScale();M=d.yScale();var J=L.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([F]);var R=J.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),P=J.select("g");
R.append("g").attr("class","nv-legendWrap");var X=R.append("g").attr("class","nv-focus");X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y nv-axis");X.append("g").attr("class","nv-linesWrap");X.append("g").attr("class","nv-interactive");R=R.append("g").attr("class","nv-context");R.append("g").attr("class","nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class","nv-linesWrap");R.append("g").attr("class","nv-brushBackground");R.append("g").attr("class",
"nv-x nv-brush");H&&(e.width(K),P.select(".nv-legendWrap").datum(F).call(e),r.top!=e.height()&&(r.top=e.height(),Q=c.utils.availableHeight(t,L,r)-C),P.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")"));J.attr("transform","translate("+r.left+","+r.top+")");D&&(z.width(K).height(Q).margin({left:r.left,top:r.top}).svgContainer(L).xScale(A),J.select(".nv-interactive").call(z));b.width(K).height(Q).color(F.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!F[b].disabled}));
d.defined(b.defined()).width(K).height(V).color(F.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!F[b].disabled}));P.select(".nv-context").attr("transform","translate(0,"+(Q+r.bottom+v.top)+")");J=P.select(".nv-context .nv-linesWrap").datum(F.filter(function(a){return!a.disabled}));d3.transition(J).call(d);m.scale(A)._ticks(c.utils.calcTicksX(K/100,F)).tickSize(-Q,0);f.scale(k)._ticks(c.utils.calcTicksY(Q/36,F)).tickSize(-K,0);P.select(".nv-focus .nv-x.nv-axis").attr("transform",
"translate(0,"+Q+")");l.x(q).on("brush",function(){B()});I&&l.extent(I);var T=P.select(".nv-brushBackground").selectAll("g").data([I||l.extent()]),Q=T.enter().append("g");Q.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",V);Q.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",V);Q=P.select(".nv-x.nv-brush").call(l);Q.selectAll("rect").attr("height",V);Q.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,c=V/3;return"M"+
.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});B();h.scale(q)._ticks(c.utils.calcTicksX(K/100,F)).tickSize(-V,0);P.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")");d3.transition(P.select(".nv-context .nv-x.nv-axis")).call(h);g.scale(M)._ticks(c.utils.calcTicksY(V/36,F)).tickSize(-K,0);d3.transition(P.select(".nv-context .nv-y.nv-axis")).call(g);P.select(".nv-context .nv-x.nv-axis").attr("transform",
"translate(0,"+M.range()[0]+")");e.dispatch.on("stateChange",function(b){for(var c in b)G[c]=b[c];y.stateChange(G);a.update()});z.dispatch.on("elementMousemove",function(d){b.clearHighlights();var e,n,B,k=[];F.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,F){var E=l.empty()?q.domain():l.extent(),h=f.values.filter(function(a,c){return b.x()(a,c)>=E[0]&&b.x()(a,c)<=E[1]});n=c.interactiveBisect(h,d.pointXValue,b.x());h=h[n];null!=a.y()(h,n)&&b.highlightPoint(F,n,!0);void 0!==
h&&(void 0===e&&(e=h),void 0===B&&(B=a.xScale()(a.x()(h,n))),k.push({key:f.key,value:a.y()(h,n),color:w(f,f.seriesIndex)}))});if(2<k.length){var E=a.yScale().invert(d.mouseY),h=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),E=c.nearestValueIndex(k.map(function(a){return a.value}),E,h);null!==E&&(k[E].highlight=!0)}E=m.tickFormat()(a.x()(e,n));z.tooltip.position({left:d.mouseX+r.left,top:d.mouseY+r.top}).chartContainer(O.parentNode).valueFormatter(function(a,b){return null==a?"N/A":f.tickFormat()(a)}).data({value:E,
index:n,series:k})();z.renderGuideLine(B)});z.dispatch.on("elementMouseout",function(a){b.clearHighlights()});y.on("changeState",function(b){"undefined"!==typeof b.disabled&&F.forEach(function(a,c){a.disabled=b.disabled[c]});a.update()})});return a}var b=c.models.line(),d=c.models.line(),m=c.models.axis(),f=c.models.axis(),h=c.models.axis(),g=c.models.axis(),e=c.models.legend(),l=d3.svg.brush(),p=c.models.tooltip(),z=c.interactiveGuideline(),r={top:30,right:30,bottom:30,left:60},v={top:0,right:30,
bottom:20,left:60},w=c.utils.defaultColor(),u=null,t=null,C=50,D=!1,A,k,q,M,H=!0,I=null,J=null,y=d3.dispatch("brush","stateChange","changeState"),x=250,G=c.utils.state(),E=null;b.clipEdge(!0).duration(0);d.interactive(!1);m.orient("bottom").tickPadding(5);f.orient("left");h.orient("bottom").tickPadding(5);g.orient("left");p.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return m.tickFormat()(a,b)});var n=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
N=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).position(a.pos).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){p.hidden(!0)});a.dispatch=y;a.legend=e;a.lines=b;a.lines2=d;a.xAxis=m;a.yAxis=f;a.x2Axis=h;a.y2Axis=g;a.interactiveLayer=z;a.tooltip=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return u},set:function(a){u=a}},
height:{get:function(){return t},set:function(a){t=a}},focusHeight:{get:function(){return C},set:function(a){C=a}},showLegend:{get:function(){return H},set:function(a){H=a}},brushExtent:{get:function(){return I},set:function(a){I=a}},defaultState:{get:function(){return E},set:function(a){E=a}},noData:{get:function(){return J},set:function(a){J=a}},tooltips:{get:function(){return p.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");p.enabled(!!a)}},tooltipContent:{get:function(){return p.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");p.contentGenerator(a)}},margin:{get:function(){return r},set:function(a){r.top=void 0!==a.top?a.top:r.top;r.right=void 0!==a.right?a.right:r.right;r.bottom=void 0!==a.bottom?a.bottom:r.bottom;r.left=void 0!==a.left?a.left:r.left}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a);e.color(w)}},interpolate:{get:function(){return b.interpolate()},set:function(a){b.interpolate(a);d.interpolate(a)}},
xTickFormat:{get:function(){return m.tickFormat()},set:function(a){m.tickFormat(a);h.tickFormat(a)}},yTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a);g.tickFormat(a)}},duration:{get:function(){return x},set:function(a){x=a;f.duration(x);g.duration(x);m.duration(x);h.duration(x)}},x:{get:function(){return b.x()},set:function(a){b.x(a);d.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a);d.y(a)}},useInteractiveGuideline:{get:function(){return D},set:function(a){if(D=
a)b.interactive(!1),b.useVoronoi(!1)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBar=function(){function a(E){x.reset();E.each(function(a){var n=d-b.left-b.right,E=m-b.top-b.bottom;e=d3.select(this);c.utils.initSVG(e);var K=0;t&&a.length&&(t=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]);if(v){var S=d3.layout.stack().offset(w).values(function(a){return a.values}).y(p)(!a.length&&t?t:a);S.forEach(function(b,c){b.nonStackable?
(a[c].nonStackableSeries=K++,S[c]=a[c]):0<c&&S[c-1].nonStackable&&S[c].values.map(function(a,b){a.y0-=S[c-1].values[b].y;a.y1=a.y0+a.y})});a=S}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});v&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,f){if(!a[f].nonStackable){var n=b.values[c];n.size=Math.abs(n.y);0>n.y?(n.y1=e,e-=n.size):(n.y1=n.size+d,d+=n.size)}})});var B=k&&q?[]:a.map(function(a,b){return a.values.map(function(a,c){return{x:l(a,c),y:p(a,c),y0:a.y0,
y1:a.y1,idx:b}})});f.domain(k||d3.merge(B).map(function(a){return a.x})).rangeBands(M||[0,n],I);h.domain(q||d3.extent(d3.merge(B).map(function(b){var c=b.y;v&&!a[b.idx].nonStackable&&(c=0<b.y?b.y1:b.y1+b.y);return c}).concat(z))).range(H||[E,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):
h.domain([-1,1]));y=y||h;var B=e.selectAll("g.nv-wrap.nv-multibar").data([a]),L=B.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),O=L.append("defs"),L=L.append("g"),W=B.select("g");L.append("g").attr("class","nv-groups");B.attr("transform","translate("+b.left+","+b.top+")");O.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");B.select("#nv-edge-clip-"+g+" rect").attr("width",n).attr("height",E);W.attr("clip-path",r?"url(#nv-edge-clip-"+g+")":"");n=B.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});n.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);E=x.transition(n.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,A)).attr("y",function(b,c,d){c=y(0)||0;v&&a[b.series]&&!a[b.series].nonStackable&&(c=y(b.y0));return c}).attr("height",0).remove();E.delay&&E.delay(function(a,b){return A/(G+1)*b-b});n.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return u(a,
b)}).style("stroke",function(a,b){return u(a,b)});n.style("stroke-opacity",1).style("fill-opacity",.75);n=n.selectAll("rect.nv-bar").data(function(b){return t&&!a.length?t.values:b.values});n.exit().remove();n.enter().append("rect").attr("class",function(a,b){return 0>p(a,b)?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return v&&!a[d].nonStackable?0:d*f.rangeBand()/a.length}).attr("y",function(b,c,d){return y(v&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,
c,d){return f.rangeBand()/(v&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+f(l(a,b))+",0)"});n.style("fill",function(a,b,c){return u(a,c,b)}).style("stroke",function(a,b,c){return u(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);J.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);J.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",
function(a,b){J.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){J.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){J.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});n.attr("class",function(a,b){return 0>p(a,b)?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+f(l(a,b))+",0)"});C&&(D||(D=
a.map(function(){return!0})),n.style("fill",function(a,b,c){return d3.rgb(C(a,b)).darker(D.map(function(a,b){return b}).filter(function(a,b){return!D[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(C(a,b)).darker(D.map(function(a,b){return b}).filter(function(a,b){return!D[b]})[c]).toString()}));n=n.watchTransition(x,"multibar",Math.min(250,A)).delay(function(b,c){return c*A/a[0].values.length});v?n.attr("y",function(b,c,d){return a[d].nonStackable?0>p(b,c)?h(0):-1>h(0)-h(p(b,c))?
h(0)-1:h(p(b,c))||0:h(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(h(p(b,c))-h(0)),1)||0:Math.max(Math.abs(h(b.y+b.y0)-h(b.y0)),1)}).attr("x",function(b,c,d){c=0;a[d].nonStackable&&(c=b.series*f.rangeBand()/a.length,a.length!==K&&(c=a[d].nonStackableSeries*f.rangeBand()/(2*K)));return c}).attr("width",function(b,c,d){return a[d].nonStackable?(b=f.rangeBand()/K,a.length!==K&&(b=f.rangeBand()/(2*K)),b):f.rangeBand()}):n.attr("x",function(b,c){return b.series*f.rangeBand()/
a.length}).attr("width",f.rangeBand()/a.length).attr("y",function(a,b){return 0>p(a,b)?h(0):1>h(0)-h(p(a,b))?h(0)-1:h(p(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(h(p(a,b))-h(0)),1)||0});f.copy();y=h.copy();a[0]&&a[0].values&&(G=a[0].values.length)});x.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,m=500,f=d3.scale.ordinal(),h=d3.scale.linear(),g=Math.floor(1E4*Math.random()),e=null,l=function(a){return a.x},p=function(a){return a.y},z=[0],
r=!0,v=!1,w="zero",u=c.utils.defaultColor(),t=!1,C=null,D,A=500,k,q,M,H,I=.1,J=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),y,x=c.utils.renderWatch(J,A),G=0;a.dispatch=J;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return p},
set:function(a){p=a}},xScale:{get:function(){return f},set:function(a){f=a}},yScale:{get:function(){return h},set:function(a){h=a}},xDomain:{get:function(){return k},set:function(a){k=a}},yDomain:{get:function(){return q},set:function(a){q=a}},xRange:{get:function(){return M},set:function(a){M=a}},yRange:{get:function(){return H},set:function(a){H=a}},forceY:{get:function(){return z},set:function(a){z=a}},stacked:{get:function(){return v},set:function(a){v=a}},stackOffset:{get:function(){return w},
set:function(a){w=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},disabled:{get:function(){return D},set:function(a){D=a}},id:{get:function(){return g},set:function(a){g=a}},hideable:{get:function(){return t},set:function(a){t=a}},groupSpacing:{get:function(){return I},set:function(a){I=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:
b.left}},duration:{get:function(){return A},set:function(a){A=a;x.reset(A)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a)}},barColor:{get:function(){return C},set:function(a){C=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(g){G.reset();G.models(b);u&&G.models(d);t&&G.models(m);g.each(function(g){var F=d3.select(this);c.utils.initSVG(F);var B=c.utils.availableWidth(l,F,e),L=c.utils.availableHeight(p,F,e);a.update=
function(){0===x?F.call(a):F.transition().duration(x).call(a)};a.container=this;H.setter(N(g),a.update).getter(n(g)).update();H.disabled=g.map(function(a){return!!a.disabled});if(!I)for(K in I={},H)I[K]=H[K]instanceof Array?H[K].slice(0):H[K];if(g&&g.length&&g.filter(function(a){return a.values.length}).length)F.selectAll(".nv-noData").remove();else return c.utils.noData(a,F),a;q=b.xScale();M=b.yScale();var O=F.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([g]),G=O.enter().append("g").attr("class",
"nvd3 nv-wrap nv-multiBarWithLegend").append("g");var K=O.select("g");G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis");G.append("g").attr("class","nv-barsWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-controlsWrap");w&&(f.width(B-(r?180:0)),K.select(".nv-legendWrap").datum(g).call(f),e.top!=f.height()&&(e.top=f.height(),L=c.utils.availableHeight(p,F,e)),K.select(".nv-legendWrap").attr("transform","translate("+(r?180:0)+","+-e.top+
")"));if(r){var J=[{key:v.grouped||"Grouped",disabled:b.stacked()},{key:v.stacked||"Stacked",disabled:!b.stacked()}];h.width(r?180:0).color(["#444","#444","#444"]);K.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-e.top+")").call(h)}O.attr("transform","translate("+e.left+","+e.top+")");C&&K.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)");b.disabled(g.map(function(a){return a.disabled})).width(B).height(L).color(g.map(function(a,b){return a.color||z(a,b)}).filter(function(a,
b){return!g[b].disabled}));K.select(".nv-barsWrap").datum(g.filter(function(a){return!a.disabled})).call(b);if(u){d.scale(q)._ticks(c.utils.calcTicksX(B/100,g)).tickSize(-L,0);K.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")");K.select(".nv-x.nv-axis").call(d);O=K.select(".nv-x.nv-axis > g").selectAll("g");O.selectAll("line, text").style("opacity",1);if(A){O.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(0==c%2?5:17)+")"});var Z=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;
K.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(0===b||0!==Z%2?17:5)+")"})}D&&O.filter(function(a,b){return 0!==b%Math.ceil(g[0].values.length/(B/100))}).selectAll("text, line").style("opacity",0);k&&O.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",0<k?"start":"end");K.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}t&&(m.scale(M)._ticks(c.utils.calcTicksY(L/36,g)).tickSize(-B,0),
K.select(".nv-y.nv-axis").call(m));f.dispatch.on("stateChange",function(b){for(var c in b)H[c]=b[c];y.stateChange(H);a.update()});h.dispatch.on("legendClick",function(c,d){if(c.disabled){J=J.map(function(a){a.disabled=!0;return a});c.disabled=!1;switch(c.key){case "Grouped":case v.grouped:b.stacked(!1);break;case "Stacked":case v.stacked:b.stacked(!0)}H.stacked=b.stacked();y.stateChange(H);a.update()}});y.on("changeState",function(c){"undefined"!==typeof c.disabled&&(g.forEach(function(a,b){a.disabled=
c.disabled[b]}),H.disabled=c.disabled);"undefined"!==typeof c.stacked&&(b.stacked(c.stacked),E=H.stacked=c.stacked);a.update()})});G.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),d=c.models.axis(),m=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},l=null,p=null,z=c.utils.defaultColor(),r=!0,v={},w=!0,u=!0,t=!0,C=!1,D=!0,A=!1,k=0,q,M,H=c.utils.state(),I=null,J=null,y=d3.dispatch("stateChange","changeState",
"renderEnd"),x=250;H.stacked=!1;b.stacked(!1);d.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a});m.orient(C?"right":"left").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return m.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});h.updateState(!1);var G=c.utils.renderWatch(y),E=!1,n=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:E}}},N=function(a){return function(b){void 0!==
b.stacked&&(E=b.stacked);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){g.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=y;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=d;a.yAxis=m;
a.state=H;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return w},set:function(a){w=a}},showControls:{get:function(){return r},set:function(a){r=a}},controlLabels:{get:function(){return v},set:function(a){v=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return I},
set:function(a){I=a}},noData:{get:function(){return J},set:function(a){J=a}},reduceXTicks:{get:function(){return D},set:function(a){D=a}},rotateLabels:{get:function(){return k},set:function(a){k=a}},staggerLabels:{get:function(){return A},set:function(a){A=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top;e.right=void 0!==a.right?a.right:e.right;e.bottom=void 0!==a.bottom?a.bottom:e.bottom;e.left=void 0!==a.left?a.left:e.left}},duration:{get:function(){return x},set:function(a){x=a;b.duration(x);d.duration(x);m.duration(x);G.reset(x)}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a);f.color(z)}},rightAlignYAxis:{get:function(){return C},
set:function(a){C=a;m.orient(C?"right":"left")}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(f){G.reset();f.each(function(a){var f=d-b.left-b.right,n=m-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);t&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(p)(a));
a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});t&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);0>a.y?(a.y1=e-a.size,e-=a.size):(a.y1=d,d+=a.size)})});var E=q&&M?[]:a.map(function(a){return a.values.map(function(a,b){return{x:l(a,b),y:p(a,b),y0:a.y0,y1:a.y1}})});g.domain(q||d3.merge(E).map(function(a){return a.x})).rangeBands(H||[0,n],A);e.domain(M||d3.extent(d3.merge(E).map(function(a){return t?0<a.y?a.y1+a.y:a.y1:
a.y}).concat(r)));C&&!t?e.range(I||[0>e.domain()[0]?D:0,f-(0<e.domain()[1]?D:0)]):e.range(I||[0,f]);x=x||d3.scale.linear().domain(e.domain()).range([e(0),e(0)]);f=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);n=f.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");n.append("defs");n=n.append("g");f.select("g");n.append("g").attr("class","nv-groups");f.attr("transform","translate("+b.left+","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});f.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);f.exit().watchTransition(G,"multibarhorizontal: exit groups").style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return v(a,b)}).style("stroke",function(a,b){return v(a,b)});f.watchTransition(G,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",
.75);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();n=f.enter().append("g").attr("transform",function(b,c,d){return"translate("+x(t?b.y0:0)+","+(t?0:d*g.rangeBand()/a.length+g(l(b,c)))+")"});n.append("rect").attr("width",0).attr("height",g.rangeBand()/(t?1:a.length));f.on("mouseover",function(a,b){d3.select(this).classed("hover",!0);y.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",
!1);y.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){y.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){y.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){y.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){y.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});
d3.event.stopPropagation()});z(a[0],0)&&(n.append("polyline"),f.select("polyline").attr("fill","none").attr("points",function(b,c){var d=z(b,c),f=.8*g.rangeBand()/(2*(t?1:a.length)),d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return e(a)-e(0)});return[[d[0],-f],[d[0],f],[d[0],0],[d[1],0],[d[1],-f],[d[1],f]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var d=g.rangeBand()/(2*(t?1:a.length));return"translate("+(0>p(b,c)?0:e(p(b,c))-e(0))+", "+d+")"}));
n.append("text");C&&!t?(f.select("text").attr("text-anchor",function(a,b){return 0>p(a,b)?"end":"start"}).attr("y",g.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){var c=k(p(a,b)),d=z(a,b);return void 0===d?c:d.length?c+"+"+k(Math.abs(d[1]))+"-"+k(Math.abs(d[0])):c+"\u00b1"+k(Math.abs(d))}),f.watchTransition(G,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return 0>p(a,b)?-4:e(p(a,b))-e(0)+4})):f.selectAll("text").text("");f.selectAll("text.nv-bar-label").text("");
f.attr("class",function(a,b){return 0>p(a,b)?"nv-bar negative":"nv-bar positive"});w&&(u||(u=a.map(function(){return!0})),f.style("fill",function(a,b,c){return d3.rgb(w(a,b)).darker(u.map(function(a,b){return b}).filter(function(a,b){return!u[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(w(a,b)).darker(u.map(function(a,b){return b}).filter(function(a,b){return!u[b]})[c]).toString()}));t?f.watchTransition(G,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+
e(a.y1)+","+g(l(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(e(p(a,b)+a.y0)-e(a.y0))}).attr("height",g.rangeBand()):f.watchTransition(G,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(0>p(b,c)?e(p(b,c)):e(0))+","+(b.series*g.rangeBand()/a.length+g(l(b,c)))+")"}).select("rect").attr("height",g.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(e(p(a,b))-e(0)),1)});g.copy();x=e.copy()});G.renderEnd("multibarHorizontal immediate");
return a}var b={top:0,right:0,bottom:0,left:0},d=960,m=500,f=Math.floor(1E4*Math.random()),h=null,g=d3.scale.ordinal(),e=d3.scale.linear(),l=function(a){return a.x},p=function(a){return a.y},z=function(a){return a.yErr},r=[0],v=c.utils.defaultColor(),w=null,u,t=!1,C=!1,D=60,A=.1,k=d3.format(",.2f"),q,M,H,I,J=250,y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x,G=c.utils.renderWatch(y,J);a.dispatch=y;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return p},set:function(a){p=a}},yErr:{get:function(){return z},set:function(a){z=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return q},set:function(a){q=a}},yDomain:{get:function(){return M},set:function(a){M=
a}},xRange:{get:function(){return H},set:function(a){H=a}},yRange:{get:function(){return I},set:function(a){I=a}},forceY:{get:function(){return r},set:function(a){r=a}},stacked:{get:function(){return t},set:function(a){t=a}},showValues:{get:function(){return C},set:function(a){C=a}},disabled:{get:function(){return u},set:function(a){u=a}},id:{get:function(){return f},set:function(a){f=a}},valueFormat:{get:function(){return k},set:function(a){k=a}},valuePadding:{get:function(){return D},set:function(a){D=
a}},groupSpacing:{get:function(){return A},set:function(a){A=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},duration:{get:function(){return J},set:function(a){J=a;G.reset(J)}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a)}},barColor:{get:function(){return w},set:function(a){w=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);
return a};c.models.multiBarHorizontalChart=function(){function a(g){x.reset();x.models(b);u&&x.models(d);t&&x.models(m);g.each(function(g){var n=d3.select(this);c.utils.initSVG(n);var x=c.utils.availableWidth(l,n,e),F=c.utils.availableHeight(p,n,e);a.update=function(){n.transition().duration(I).call(a)};a.container=this;C=b.stacked();k.setter(y(g),a.update).getter(J(g)).update();k.disabled=g.map(function(a){return!!a.disabled});if(!q)for(E in q={},k)q[E]=k[E]instanceof Array?k[E].slice(0):k[E];if(g&&
g.length&&g.filter(function(a){return a.values.length}).length)n.selectAll(".nv-noData").remove();else return c.utils.noData(a,n),a;D=b.xScale();A=b.yScale();var E=n.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([g]);var G=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),B=E.select("g");G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");G.append("g").attr("class",
"nv-barsWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-controlsWrap");w&&(f.width(x-(r?180:0)),B.select(".nv-legendWrap").datum(g).call(f),e.top!=f.height()&&(e.top=f.height(),F=c.utils.availableHeight(p,n,e)),B.select(".nv-legendWrap").attr("transform","translate("+(r?180:0)+","+-e.top+")"));if(r){var L=[{key:v.grouped||"Grouped",disabled:b.stacked()},{key:v.stacked||"Stacked",disabled:!b.stacked()}];h.width(r?180:0).color(["#444","#444","#444"]);B.select(".nv-controlsWrap").datum(L).attr("transform",
"translate(0,"+-e.top+")").call(h)}E.attr("transform","translate("+e.left+","+e.top+")");b.disabled(g.map(function(a){return a.disabled})).width(x).height(F).color(g.map(function(a,b){return a.color||z(a,b)}).filter(function(a,b){return!g[b].disabled}));B.select(".nv-barsWrap").datum(g.filter(function(a){return!a.disabled})).transition().call(b);u&&(d.scale(D)._ticks(c.utils.calcTicksX(F/24,g)).tickSize(-x,0),B.select(".nv-x.nv-axis").call(d),B.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));
t&&(m.scale(A)._ticks(c.utils.calcTicksY(x/100,g)).tickSize(-F,0),B.select(".nv-y.nv-axis").attr("transform","translate(0,"+F+")"),B.select(".nv-y.nv-axis").call(m));B.select(".nv-zeroLine line").attr("x1",A(0)).attr("x2",A(0)).attr("y1",0).attr("y2",-F);f.dispatch.on("stateChange",function(b){for(var c in b)k[c]=b[c];H.stateChange(k);a.update()});h.dispatch.on("legendClick",function(c,d){if(c.disabled){L=L.map(function(a){a.disabled=!0;return a});c.disabled=!1;switch(c.key){case "Grouped":b.stacked(!1);
break;case "Stacked":b.stacked(!0)}k.stacked=b.stacked();H.stateChange(k);C=b.stacked();a.update()}});H.on("changeState",function(c){"undefined"!==typeof c.disabled&&(g.forEach(function(a,b){a.disabled=c.disabled[b]}),k.disabled=c.disabled);"undefined"!==typeof c.stacked&&(b.stacked(c.stacked),C=k.stacked=c.stacked);a.update()})});x.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),d=c.models.axis(),m=c.models.axis(),f=c.models.legend().height(30),h=c.models.legend().height(30),
g=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},l=null,p=null,z=c.utils.defaultColor(),r=!0,v={},w=!0,u=!0,t=!0,C=!1,D,A,k=c.utils.state(),q=null,M=null,H=d3.dispatch("stateChange","changeState","renderEnd"),I=250;k.stacked=!1;b.stacked(C);d.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a});m.orient("bottom").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return m.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,
b)});h.updateState(!1);var J=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:C}}},y=function(a){return function(b){void 0!==b.stacked&&(C=b.stacked);void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},x=c.utils.renderWatch(H,I);b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){g.hidden(!0)});
b.dispatch.on("elementMousemove.tooltip",function(a){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=H;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=d;a.yAxis=m;a.state=k;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return w},set:function(a){w=a}},showControls:{get:function(){return r},set:function(a){r=a}},controlLabels:{get:function(){return v},
set:function(a){v=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return M},set:function(a){M=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top;e.right=void 0!==a.right?a.right:e.right;e.bottom=void 0!==a.bottom?a.bottom:e.bottom;e.left=void 0!==a.left?a.left:e.left}},duration:{get:function(){return I},set:function(a){I=a;x.reset(I);b.duration(I);d.duration(I);m.duration(I)}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a);f.color(z)}},barColor:{get:function(){return b.barColor},
set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiChart=function(){function a(g){g.each(function(n){function g(a){var b=2===n[a.seriesIndex].yAxis?J:I;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color};x.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(!1)}function p(a){var b=2===n[a.seriesIndex].yAxis?
J:I;a.point.x=q.x()(a.point);a.point.y=q.y()(a.point);x.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(!1)}function v(a){var b=2===n[a.data.series].yAxis?J:I;a.value=A.x()(a.data);a.series={value:A.y()(a.data),color:a.color};x.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}var z=d3.select(this);c.utils.initSVG(z);a.update=function(){z.transition().call(a)};a.container=this;var B=c.utils.availableWidth(m,
z,b),L=c.utils.availableHeight(f,z,b),E=n.filter(function(a){return"line"==a.type&&1==a.yAxis}),G=n.filter(function(a){return"line"==a.type&&2==a.yAxis}),Q=n.filter(function(a){return"bar"==a.type&&1==a.yAxis}),V=n.filter(function(a){return"bar"==a.type&&2==a.yAxis}),Z=n.filter(function(a){return"area"==a.type&&1==a.yAxis}),R=n.filter(function(a){return"area"==a.type&&2==a.yAxis});if(n&&n.length&&n.filter(function(a){return a.values.length}).length)z.selectAll(".nv-noData").remove();else return c.utils.noData(a,
z),a;var P=n.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})}),X=n.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})});w.domain(d3.extent(d3.merge(P.concat(X)),function(a){return a.x})).range([0,B]);var T=z.selectAll("g.wrap.multiChart").data([n]),U=T.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");U.append("g").attr("class","nv-x nv-axis");
U.append("g").attr("class","nv-y1 nv-axis");U.append("g").attr("class","nv-y2 nv-axis");U.append("g").attr("class","lines1Wrap");U.append("g").attr("class","lines2Wrap");U.append("g").attr("class","bars1Wrap");U.append("g").attr("class","bars2Wrap");U.append("g").attr("class","stack1Wrap");U.append("g").attr("class","stack2Wrap");U.append("g").attr("class","legendWrap");T=T.select("g");U=n.map(function(a,b){return n[b].color||d(a,b)});if(h){var ea=y.align()?B/2:B,ba=y.align()?ea:0;y.width(ea);y.color(U);
T.select(".legendWrap").datum(n.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":" (right axis)");return a})).call(y);b.top!=y.height()&&(b.top=y.height(),L=c.utils.availableHeight(f,z,b));T.select(".legendWrap").attr("transform","translate("+ba+","+-b.top+")")}C.width(B).height(L).interpolate(r).color(U.filter(function(a,b){return!n[b].disabled&&1==n[b].yAxis&&"line"==n[b].type}));D.width(B).height(L).interpolate(r).color(U.filter(function(a,
b){return!n[b].disabled&&2==n[b].yAxis&&"line"==n[b].type}));A.width(B).height(L).color(U.filter(function(a,b){return!n[b].disabled&&1==n[b].yAxis&&"bar"==n[b].type}));k.width(B).height(L).color(U.filter(function(a,b){return!n[b].disabled&&2==n[b].yAxis&&"bar"==n[b].type}));q.width(B).height(L).color(U.filter(function(a,b){return!n[b].disabled&&1==n[b].yAxis&&"area"==n[b].type}));M.width(B).height(L).color(U.filter(function(a,b){return!n[b].disabled&&2==n[b].yAxis&&"area"==n[b].type}));T.attr("transform",
"translate("+b.left+","+b.top+")");var U=T.select(".lines1Wrap").datum(E.filter(function(a){return!a.disabled})),ea=T.select(".bars1Wrap").datum(Q.filter(function(a){return!a.disabled})),ba=T.select(".stack1Wrap").datum(Z.filter(function(a){return!a.disabled})),Y=T.select(".lines2Wrap").datum(G.filter(function(a){return!a.disabled})),fa=T.select(".bars2Wrap").datum(V.filter(function(a){return!a.disabled})),ga=T.select(".stack2Wrap").datum(R.filter(function(a){return!a.disabled})),ha=Z.length?Z.map(function(a){return a.values}).reduce(function(a,
b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],ia=R.length?R.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];u.domain(e||d3.extent(d3.merge(P).concat(ha),function(a){return a.y})).range([0,L]);t.domain(l||d3.extent(d3.merge(X).concat(ia),function(a){return a.y})).range([0,L]);C.yDomain(u.domain());A.yDomain(u.domain());q.yDomain(u.domain());D.yDomain(t.domain());k.yDomain(t.domain());
M.yDomain(t.domain());Z.length&&d3.transition(ba).call(q);R.length&&d3.transition(ga).call(M);Q.length&&d3.transition(ea).call(A);V.length&&d3.transition(fa).call(k);E.length&&d3.transition(U).call(C);G.length&&d3.transition(Y).call(D);H._ticks(c.utils.calcTicksX(B/100,n)).tickSize(-L,0);T.select(".nv-x.nv-axis").attr("transform","translate(0,"+L+")");d3.transition(T.select(".nv-x.nv-axis")).call(H);I._ticks(c.utils.calcTicksY(L/36,n)).tickSize(-B,0);d3.transition(T.select(".nv-y1.nv-axis")).call(I);
J._ticks(c.utils.calcTicksY(L/36,n)).tickSize(-B,0);d3.transition(T.select(".nv-y2.nv-axis")).call(J);T.select(".nv-y1.nv-axis").classed("nv-disabled",P.length?!1:!0).attr("transform","translate("+w.range()[0]+",0)");T.select(".nv-y2.nv-axis").classed("nv-disabled",X.length?!1:!0).attr("transform","translate("+w.range()[1]+",0)");y.dispatch.on("stateChange",function(b){a.update()});C.dispatch.on("elementMouseover.tooltip",g);D.dispatch.on("elementMouseover.tooltip",g);C.dispatch.on("elementMouseout.tooltip",
function(a){x.hidden(!0)});D.dispatch.on("elementMouseout.tooltip",function(a){x.hidden(!0)});q.dispatch.on("elementMouseover.tooltip",p);M.dispatch.on("elementMouseover.tooltip",p);q.dispatch.on("elementMouseout.tooltip",function(a){x.hidden(!0)});M.dispatch.on("elementMouseout.tooltip",function(a){x.hidden(!0)});A.dispatch.on("elementMouseover.tooltip",v);k.dispatch.on("elementMouseover.tooltip",v);A.dispatch.on("elementMouseout.tooltip",function(a){x.hidden(!0)});k.dispatch.on("elementMouseout.tooltip",
function(a){x.hidden(!0)});A.dispatch.on("elementMousemove.tooltip",function(a){x.position({top:d3.event.pageY,left:d3.event.pageX})()});k.dispatch.on("elementMousemove.tooltip",function(a){x.position({top:d3.event.pageY,left:d3.event.pageX})()})});return a}var b={top:30,right:20,bottom:50,left:60},d=c.utils.defaultColor(),m=null,f=null,h=!0,g=null,e,l,p=function(a){return a.x},z=function(a){return a.y},r="monotone",v=!0,w=d3.scale.linear(),u=d3.scale.linear(),t=d3.scale.linear(),C=c.models.line().yScale(u),
D=c.models.line().yScale(t),A=c.models.multiBar().stacked(!1).yScale(u),k=c.models.multiBar().stacked(!1).yScale(t),q=c.models.stackedArea().yScale(u),M=c.models.stackedArea().yScale(t),H=c.models.axis().scale(w).orient("bottom").tickPadding(5),I=c.models.axis().scale(u).orient("left"),J=c.models.axis().scale(t).orient("right"),y=c.models.legend().height(30),x=c.models.tooltip(),G=d3.dispatch();a.dispatch=G;a.lines1=C;a.lines2=D;a.bars1=A;a.bars2=k;a.stack1=q;a.stack2=M;a.xAxis=H;a.yAxis1=I;a.yAxis2=
J;a.tooltip=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return f},set:function(a){f=a}},showLegend:{get:function(){return h},set:function(a){h=a}},yDomain1:{get:function(){return e},set:function(a){e=a}},yDomain2:{get:function(){return l},set:function(a){l=a}},noData:{get:function(){return g},set:function(a){g=a}},interpolate:{get:function(){return r},set:function(a){r=a}},tooltips:{get:function(){return x.enabled()},
set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");x.enabled(!!a)}},tooltipContent:{get:function(){return x.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");x.contentGenerator(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return d},
set:function(a){d=c.utils.getColor(a)}},x:{get:function(){return p},set:function(a){p=a;C.x(a);D.x(a);A.x(a);k.x(a);q.x(a);M.x(a)}},y:{get:function(){return z},set:function(a){z=a;C.y(a);D.y(a);q.y(a);M.y(a);A.y(a);k.y(a)}},useVoronoi:{get:function(){return v},set:function(a){v=a;C.useVoronoi(a);D.useVoronoi(a);q.useVoronoi(a);M.useVoronoi(a)}}});c.utils.initOptions(a);return a};c.models.ohlcBar=function(){function a(k){k.each(function(a){h=d3.select(this);var k=c.utils.availableWidth(d,h,b),y=c.utils.availableHeight(m,
h,b);c.utils.initSVG(h);var n=k/a[0].values.length*.9;g.domain(q||d3.extent(a[0].values.map(l).concat(u)));C?g.range(H||[.5*k/a[0].values.length,k*(a[0].values.length-.5)/a[0].values.length]):g.range(H||[5+n/2,k-n/2-5]);e.domain(M||[d3.min(a[0].values.map(w).concat(t)),d3.max(a[0].values.map(v).concat(t))]).range(I||[y,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-.01*g.domain()[0],g.domain()[1]+.01*g.domain()[1]]):g.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?
e.domain([e.domain()[0]+.01*e.domain()[0],e.domain()[1]-.01*e.domain()[1]]):e.domain([-1,1]));var x=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),F=x.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),K=F.append("defs"),F=F.append("g"),S=x.select("g");F.append("g").attr("class","nv-ticks");x.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){J.chartClick({data:a,index:b,pos:d3.event,id:f})});K.append("clipPath").attr("id","nv-chart-clip-path-"+
f).append("rect");x.select("#nv-chart-clip-path-"+f+" rect").attr("width",k).attr("height",y);S.attr("clip-path",D?"url(#nv-chart-clip-path-"+f+")":"");y=x.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});y.exit().remove();y.enter().append("path").attr("class",function(a,b,c){return(z(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(e(z(a,b))-e(v(a,b)))+"l"+-n/2+",0l"+n/2+",0l0,"+(e(w(a,b))-e(z(a,b)))+"l0,"+(e(r(a,
b))-e(w(a,b)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(a,b){return"translate("+g(l(a,b))+","+e(v(a,b))+")"}).attr("fill",function(a,b){return A[0]}).attr("stroke",function(a,b){return A[0]}).attr("x",0).attr("y",function(a,b){return e(Math.max(0,p(a,b)))}).attr("height",function(a,b){return Math.abs(e(p(a,b))-e(0))});y.attr("class",function(a,b,c){return(z(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(y).attr("transform",function(a,b){return"translate("+
g(l(a,b))+","+e(v(a,b))+")"}).attr("d",function(b,c){var d=k/a[0].values.length*.9;return"m0,0l0,"+(e(z(b,c))-e(v(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(e(w(b,c))-e(z(b,c)))+"l0,"+(e(r(b,c))-e(w(b,c)))+"l"+d/2+",0l"+-d/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},d=null,m=null,f=Math.floor(1E4*Math.random()),h=null,g=d3.scale.linear(),e=d3.scale.linear(),l=function(a){return a.x},p=function(a){return a.y},z=function(a){return a.open},r=function(a){return a.close},v=function(a){return a.high},
w=function(a){return a.low},u=[],t=[],C=!1,D=!0,A=c.utils.defaultColor(),k=!1,q,M,H,I,J=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)};a.dispatch=J;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return q},set:function(a){q=a}},yDomain:{get:function(){return M},set:function(a){M=a}},xRange:{get:function(){return H},set:function(a){H=a}},yRange:{get:function(){return I},set:function(a){I=a}},forceX:{get:function(){return u},
set:function(a){u=a}},forceY:{get:function(){return t},set:function(a){t=a}},padData:{get:function(){return C},set:function(a){C=a}},clipEdge:{get:function(){return D},set:function(a){D=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return p},set:function(a){p=a}},open:{get:function(){return z()},set:function(a){z=a}},close:{get:function(){return r()},set:function(a){r=
a}},high:{get:function(){return v},set:function(a){v=a}},low:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!=a.top?a.top:b.top;b.right=void 0!=a.right?a.right:b.right;b.bottom=void 0!=a.bottom?a.bottom:b.bottom;b.left=void 0!=a.left?a.left:b.left}},color:{get:function(){return A},set:function(a){A=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=function(){function a(u){u.each(function(a){function t(a){return J(g.map(function(b){if(isNaN(a[b])||
isNaN(parseFloat(a[b]))){var c=h[b].domain(),d=h[b].range(),e=c[0]-(c[1]-c[0])/9;0>G.indexOf(b)&&(c=d3.scale.linear().domain([e,c[1]]).range([M-12,d[1]]),h[b].brush.y(c),G.push(b));return[f(b),h[b](e)]}0<G.length?(n.style("display","inline"),N.style("display","inline")):(n.style("display","none"),N.style("display","none"));return[f(b),h[b](a[b])]}))}function u(){var a=g.filter(function(a){return!h[a].brush.empty()}),b=a.map(function(a){return h[a].brush.extent()});p=[];a.forEach(function(a,c){p[c]=
{dimension:a,extent:b[c]}});z=[];K.style("display",function(c){var d=a.every(function(a,d){return isNaN(c[a])&&b[d][0]==h[a].brush.y().domain()[0]?!0:b[d][0]<=c[a]&&c[a]<=b[d][1]});d&&z.push(c);return d?null:"none"});w.brush({filters:p,active:z})}function A(a){var b=r[a];return null==b?f(a):b}var k=d3.select(this),q=c.utils.availableWidth(d,k,b),M=c.utils.availableHeight(m,k,b);c.utils.initSVG(k);z=a;f.rangePoints([0,q],1).domain(g);g.forEach(function(b){var c=d3.extent(a,function(a){return+a[b]});
void 0===c[0]&&(c[0]=0,c[1]=0);c[0]===c[1]&&(--c[0],c[1]+=1);h[b]=d3.scale.linear().domain(c).range([.9*(M-12),0]);h[b].brush=d3.svg.brush().y(h[b]).on("brush",u);return"name"!=b});var k=k.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),H=k.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),I=k.select("g");H.append("g").attr("class","nv-parallelCoordinates background");H.append("g").attr("class","nv-parallelCoordinates foreground");H.append("g").attr("class",
"nv-parallelCoordinates missingValuesline");k.attr("transform","translate("+b.left+","+b.top+")");var J=d3.svg.line().interpolate("cardinal").tension(v),y=d3.svg.axis().orient("left"),H=d3.behavior.drag().on("dragstart",function(a,b){r[a]=this.parentNode.__origin__=f(a);F.attr("visibility","hidden")}).on("drag",function(a,b){r[a]=Math.min(q,Math.max(0,this.parentNode.__origin__+=d3.event.x));K.attr("d",t);g.sort(function(a,b){return A(a)-A(b)});f.domain(g);S.attr("transform",function(a){return"translate("+
A(a)+")"})}).on("dragend",function(a,b){delete this.parentNode.__origin__;delete r[a];d3.select(this.parentNode).attr("transform","translate("+f(a)+")");K.attr("d",t);F.attr("d",t).attr("visibility",null)}),x=f.range()[1]-f.range()[0],G=[],E=[0+x/2,M-12,q-x/2,M-12];var n=k.select(".missingValuesline").selectAll("line").data([E]);n.enter().append("line");n.exit().remove();n.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]});
var N=k.select(".missingValuesline").selectAll("text").data(["undefined values"]);N.append("text").data(["undefined values"]);N.enter().append("text");N.exit().remove();N.attr("y",M).attr("x",q-92-x/2).text(function(a){return a});var F=k.select(".background").selectAll("path").data(a);F.enter().append("path");F.exit().remove();F.attr("d",t);var K=k.select(".foreground").selectAll("path").data(a);K.enter().append("path");K.exit().remove();K.attr("d",t).attr("stroke",l);K.on("mouseover",function(a,
b){d3.select(this).classed("hover",!0);w.elementMouseover({label:a.name,data:a.data,index:b,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})});K.on("mouseout",function(a,b){d3.select(this).classed("hover",!1);w.elementMouseout({label:a.name,data:a.data,index:b})});var S=I.selectAll(".dimension").data(g),k=S.enter().append("g").attr("class","nv-parallelCoordinates dimension");k.append("g").attr("class","nv-parallelCoordinates nv-axis");k.append("g").attr("class","nv-parallelCoordinates-brush");
k.append("text").attr("class","nv-parallelCoordinates nv-label");S.attr("transform",function(a){return"translate("+f(a)+",0)"});S.exit().remove();S.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(a,b){w.elementMouseover({dim:a,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(a,b){w.elementMouseout({dim:a})}).call(H);S.select(".nv-axis").each(function(a,b){d3.select(this).call(y.scale(h[a]).tickFormat(d3.format(e[b])))});
S.select(".nv-parallelCoordinates-brush").each(function(a){d3.select(this).call(h[a].brush)}).selectAll("rect").attr("x",-8).attr("width",16)});return a}var b={top:30,right:0,bottom:10,left:0},d=null,m=null,f=d3.scale.ordinal(),h={},g=[],e=[],l=c.utils.defaultColor(),p=[],z=[],r=[],v=1,w=d3.dispatch("brush","elementMouseover","elementMouseout");a.dispatch=w;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},
set:function(a){m=a}},dimensionNames:{get:function(){return g},set:function(a){g=a}},dimensionFormats:{get:function(){return e},set:function(a){e=a}},lineTension:{get:function(){return v},set:function(a){v=a}},dimensions:{get:function(){return g},set:function(a){c.deprecated("dimensions","use dimensionNames instead");g=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==
a.left?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.pie=function(){function a(n){E.reset();n.each(function(a){var n=d-b.left-b.right,K=m-b.top-b.bottom,N=Math.min(n,K)/2,B=[],L=[];e=d3.select(this);if(0===J.length)for(var O=N-N/5,W=I*N,Q=0;Q<a[0].length;Q++)B.push(O),L.push(W);else B=J.map(function(a){return(a.outer-a.outer/5)*N}),L=J.map(function(a){return(a.inner-a.inner/5)*N}),I=d3.min(J.map(function(a){return a.inner-
a.inner/5}));c.utils.initSVG(e);var O=e.selectAll(".nv-wrap.nv-pie").data(a),Q=O.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+g).append("g"),V=O.select("g"),W=Q.append("g").attr("class","nv-pie");Q.append("g").attr("class","nv-pieLabels");O.attr("transform","translate("+b.left+","+b.top+")");V.select(".nv-pie").attr("transform","translate("+n/2+","+K/2+")");V.select(".nv-pieLabels").attr("transform","translate("+n/2+","+K/2+")");e.on("click",function(a,b){y.chartClick({data:a,
index:b,pos:d3.event,id:g})});x=[];G=[];for(Q=0;Q<a[0].length;Q++){var V=d3.svg.arc().outerRadius(B[Q]),Z=d3.svg.arc().outerRadius(B[Q]+5);!1!==k&&(V.startAngle(k),Z.startAngle(k));!1!==M&&(V.endAngle(M),Z.endAngle(M));u&&(V.innerRadius(L[Q]),Z.innerRadius(L[Q]));V.cornerRadius&&H&&(V.cornerRadius(H),Z.cornerRadius(H));x.push(V);G.push(Z)}L=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});L.padAngle&&q&&L.padAngle(q);u&&t&&(W.append("text").attr("class","nv-pie-title"),O.select(".nv-pie-title").style("text-anchor",
"middle").text(function(a){return t}).style("font-size",Math.min(n,K)*I*2/(t.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+D+")"}));n=O.select(".nv-pie").selectAll(".nv-slice").data(L);K=O.select(".nv-pieLabels").selectAll(".nv-label").data(L);n.exit().remove();K.exit().remove();L=n.enter().append("g");L.attr("class","nv-slice");L.on("mouseover",function(a,b){d3.select(this).classed("hover",!0);C&&d3.select(this).select("path").transition().duration(70).attr("d",
G[b]);y.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill")})});L.on("mouseout",function(a,b){d3.select(this).classed("hover",!1);C&&d3.select(this).select("path").transition().duration(50).attr("d",x[b]);y.elementMouseout({data:a.data,index:b})});L.on("mousemove",function(a,b){y.elementMousemove({data:a.data,index:b})});L.on("click",function(a,b){y.elementClick({data:a.data,index:b,color:d3.select(this).style("fill")})});L.on("dblclick",function(a,b){y.elementDblClick({data:a.data,
index:b,color:d3.select(this).style("fill")})});n.attr("fill",function(a,b){return l(a.data,b)});n.attr("stroke",function(a,b){return l(a.data,b)});L.append("path").each(function(a){this._current=a});n.select("path").transition().attr("d",function(a,b){return x[b](a)}).attrTween("d",function(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;u||(a.innerRadius=0);var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return x[b](c(a))}});
if(z){for(var R=[],Q=0;Q<a[0].length;Q++)R.push(x[Q]),r?u&&(R[Q]=d3.svg.arc().outerRadius(x[Q].outerRadius()),!1!==k&&R[Q].startAngle(k),!1!==M&&R[Q].endAngle(M)):u||R[Q].innerRadius(0);K.enter().append("g").classed("nv-label",!0).each(function(a,b){var c=d3.select(this);c.attr("transform",function(a,b){if(A){a.outerRadius=B[b]+10;a.innerRadius=B[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+R[b].centroid(a)+") rotate("+c+
")"}a.outerRadius=N+10;a.innerRadius=N+15;return"translate("+R[b].centroid(a)+")"});c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);c.append("text").style("text-anchor",A?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var P={},X=function(a){return 140*Math.floor(a[0]/140)+","+14*Math.floor(a[1]/14)};K.watchTransition(E,"pie labels").attr("transform",function(a,b){if(A){a.outerRadius=B[b]+10;a.innerRadius=B[b]+15;var c=(a.startAngle+
a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+R[b].centroid(a)+") rotate("+c+")"}a.outerRadius=N+10;a.innerRadius=N+15;c=R[b].centroid(a);if(a.value){var d=X(c);P[d]&&(c[1]-=14);P[X(c)]=!0}return"translate("+c+")"});K.select(".nv-label text").style("text-anchor",function(a,b){return A?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI),d="";if(!a.value||c<w)return"";if("function"===
typeof v)d=v(a,b,{key:f(a.data),value:h(a.data),percent:p(c)});else switch(v){case "key":d=f(a.data);break;case "value":d=p(h(a.data));break;case "percent":d=d3.format("%")(c)}return d})}});E.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=500,m=500,f=function(a){return a.x},h=function(a){return a.y},g=Math.floor(1E4*Math.random()),e=null,l=c.utils.defaultColor(),p=d3.format(",.2f"),z=!0,r=!1,v="key",w=.02,u=!1,t=!1,C=!0,D=0,A=!1,k=!1,q=!1,M=!1,H=0,I=.5,J=[],y=d3.dispatch("chartClick",
"elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x=[],G=[],E=c.utils.renderWatch(y);a.dispatch=y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{arcsRadius:{get:function(){return J},set:function(a){J=a}},width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},showLabels:{get:function(){return z},set:function(a){z=a}},title:{get:function(){return t},set:function(a){t=a}},titleOffset:{get:function(){return D},
set:function(a){D=a}},labelThreshold:{get:function(){return w},set:function(a){w=a}},valueFormat:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},endAngle:{get:function(){return M},set:function(a){M=a}},startAngle:{get:function(){return k},set:function(a){k=a}},padAngle:{get:function(){return q},set:function(a){q=a}},cornerRadius:{get:function(){return H},set:function(a){H=a}},donutRatio:{get:function(){return I},
set:function(a){I=a}},labelsOutside:{get:function(){return r},set:function(a){r=a}},labelSunbeamLayout:{get:function(){return A},set:function(a){A=a}},donut:{get:function(){return u},set:function(a){u=a}},growOnHover:{get:function(){return C},set:function(a){C=a}},pieLabelsOutside:{get:function(){return r},set:function(a){r=a;c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return r},set:function(a){r=a;c.deprecated("donutLabelsOutside","use labelsOutside instead")}},
labelFormat:{get:function(){return p},set:function(a){p=a;c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top="undefined"!=typeof a.top?a.top:b.top;b.right="undefined"!=typeof a.right?a.right:b.right;b.bottom="undefined"!=typeof a.bottom?a.bottom:b.bottom;b.left="undefined"!=typeof a.left?a.left:b.left}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}},labelType:{get:function(){return v},
set:function(a){v=a||"key"}}});c.utils.initOptions(a);return a};c.models.pieChart=function(){function a(m){t.reset();t.models(b);m.each(function(k){var q=d3.select(this);c.utils.initSVG(q);var m=c.utils.availableWidth(h,q,f),t=c.utils.availableHeight(g,q,f);a.update=function(){q.transition().call(a)};a.container=this;z.setter(D(k),a.update).getter(C(k)).update();z.disabled=k.map(function(a){return!!a.disabled});if(!r)for(p in r={},z)r[p]=z[p]instanceof Array?z[p].slice(0):z[p];if(k&&k.length)q.selectAll(".nv-noData").remove();
else return c.utils.noData(a,q),a;var p=q.selectAll("g.nv-wrap.nv-pieChart").data([k]);var v=p.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),A=p.select("g");v.append("g").attr("class","nv-pieWrap");v.append("g").attr("class","nv-legendWrap");e&&("top"===l?(d.width(m).key(b.x()),p.select(".nv-legendWrap").datum(k).call(d),f.top!=d.height()&&(f.top=d.height(),t=c.utils.availableHeight(g,q,f)),p.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")):"right"===
l&&(v=c.models.legend().width(),m/2<v&&(v=m/2),d.height(t).key(b.x()),d.width(v),m-=d.width(),p.select(".nv-legendWrap").datum(k).call(d).attr("transform","translate("+m+",0)")));p.attr("transform","translate("+f.left+","+f.top+")");b.width(m).height(t);m=A.select(".nv-pieWrap").datum([k]);d3.transition(m).call(b);d.dispatch.on("stateChange",function(b){for(var c in b)z[c]=b[c];u.stateChange(z);a.update()});u.on("changeState",function(b){"undefined"!==typeof b.disabled&&(k.forEach(function(a,c){a.disabled=
b.disabled[c]}),z.disabled=b.disabled);a.update()})});t.renderEnd("pieChart immediate");return a}var b=c.models.pie(),d=c.models.legend(),m=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},h=null,g=null,e=!0,l="top",p=c.utils.defaultColor(),z=c.utils.state(),r=null,v=null,w=250,u=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");m.headerEnabled(!1).duration(0).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var t=c.utils.renderWatch(u),C=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
D=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};m.data(b).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){m.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",function(a){m.position({top:d3.event.pageY,left:d3.event.pageX})()});a.legend=d;a.dispatch=u;a.pie=b;a.tooltip=m;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return g},set:function(a){g=a}},noData:{get:function(){return v},set:function(a){v=a}},showLegend:{get:function(){return e},set:function(a){e=a}},legendPosition:{get:function(){return l},set:function(a){l=a}},defaultState:{get:function(){return r},set:function(a){r=a}},tooltips:{get:function(){return m.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");m.enabled(!!a)}},
tooltipContent:{get:function(){return m.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");m.contentGenerator(a)}},color:{get:function(){return p},set:function(a){p=a;d.color(p);b.color(p)}},duration:{get:function(){return w},set:function(a){w=a;t.reset(w)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top;f.right=void 0!==a.right?a.right:f.right;f.bottom=void 0!==a.bottom?a.bottom:f.bottom;f.left=void 0!==
a.left?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.scatter=function(){function a(B){V.reset();B.each(function(a){g=d3.select(this);var B=c.utils.availableWidth(d,g,b),R=c.utils.availableHeight(m,g,b);c.utils.initSVG(g);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var U=y&&x&&n?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:z(a,b),y:r(a,b),size:v(a,b)}})}));e.domain(y||d3.extent(U.map(function(a){return a.x}).concat(u)));
k&&a[0]?e.range(G||[(B*q+B)/(2*a[0].values.length),B-B*(1+q)/(2*a[0].values.length)]):e.range(G||[0,B]);l.domain(x||d3.extent(U.map(function(a){return a.y}).concat(t))).range(E||[R,0]);p.domain(n||d3.extent(U.map(function(a){return a.size}).concat(C))).range(N||Z);F=e.domain()[0]===e.domain()[1]||l.domain()[0]===l.domain()[1];e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]-.01*e.domain()[0],e.domain()[1]+.01*e.domain()[1]]):e.domain([-1,1]));l.domain()[0]===l.domain()[1]&&(l.domain()[0]?
l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));isNaN(e.domain()[0])&&e.domain([-1,1]);isNaN(l.domain()[0])&&l.domain([-1,1]);L=L||e;O=O||l;var P=g.selectAll("g.nv-wrap.nv-scatter").data([a]),U=P.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),ba=U.append("defs"),Y=U.append("g"),fa=P.select("g");P.classed("nv-single-point",F);Y.append("g").attr("class","nv-groups");Y.append("g").attr("class","nv-point-paths");U.append("g").attr("class",
"nv-point-clips");P.attr("transform","translate("+b.left+","+b.top+")");ba.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");P.select("#nv-edge-clip-"+h+" rect").attr("width",B).attr("height",0<R?R:0);fa.attr("clip-path",M?"url(#nv-edge-clip-"+h+")":"");Q=!0;B=P.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});B.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);B.exit().remove();B.attr("class",function(a,b){return"nv-group nv-series-"+
b}).classed("hover",function(a){return a.hover});B.watchTransition(V,"scatter: groups").style("fill",function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);R=B.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return A(a[0],b)})});R.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+
L(z(a[0],a[1]))+","+O(r(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return w(a[0])}).size(function(a){return p(v(a[0],a[1]))}));R.exit().remove();B.exit().selectAll("path.nv-point").watchTransition(V,"scatter exit").attr("transform",function(a){return"translate("+e(z(a[0],a[1]))+","+l(r(a[0],a[1]))+")"}).remove();R.each(function(a){d3.select(this).classed("nv-point",!0).classed("nv-point-"+a[1],!0).classed("nv-noninteractive",!D).classed("hover",!1)});R.watchTransition(V,"scatter points").attr("transform",
function(a){return"translate("+e(z(a[0],a[1]))+","+l(r(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return w(a[0])}).size(function(a){return p(v(a[0],a[1]))}));clearTimeout(W);W=setTimeout(function(){Q=!1;if(!D)return!1;if(!0===S){var c=d3.merge(a.map(function(a,b){return a.values.map(function(a,c){var d=z(a,c),f=r(a,c);return[e(d)+1E-4*Math.random(),l(f)+1E-4*Math.random(),b,c,a]}).filter(function(a,b){return A(a[4],b)})}));if(0==c.length)return!1;3>c.length&&(c.push([e.range()[0]-
20,l.range()[0]-20,null,null]),c.push([e.range()[1]+20,l.range()[1]+20,null,null]),c.push([e.range()[0]-20,l.range()[0]+20,null,null]),c.push([e.range()[1]+20,l.range()[1]-20,null,null]));var k=d3.geom.polygon([[-10,-10],[-10,m+10],[d+10,m+10],[d+10,-10]]),n=d3.geom.voronoi(c).map(function(a,b){return{data:k.clip(a),series:c[b][2],point:c[b][3]}});P.select(".nv-point-paths").selectAll("path").remove();var n=P.select(".nv-point-paths").selectAll("path").data(n),h=n.enter().append("svg:path").attr("d",
function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+b+")"});I&&h.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));H&&(P.select(".nv-point-clips").selectAll("clipPath").remove(),P.select(".nv-point-clips").selectAll("clipPath").data(c).enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+
b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",J));var q=function(c,d){if(Q)return 0;var k=a[c.series];if(void 0!==k){var n=k.values[c.point];n.color=f(k,c.series);n.x=z(n);n.y=r(n);var h=g.node().getBoundingClientRect(),q=window.pageYOffset||document.documentElement.scrollTop,m=window.pageXOffset||document.documentElement.scrollLeft,h={left:e(z(n,c.point))+h.left+m+b.left+10,top:l(r(n,c.point))+h.top+q+b.top+10};d({point:n,series:k,pos:h,
seriesIndex:c.series,pointIndex:c.point})}};n.on("click",function(a){q(a,K.elementClick)}).on("dblclick",function(a){q(a,K.elementDblClick)}).on("mouseover",function(a){q(a,K.elementMouseover)}).on("mouseout",function(a,b){q(a,K.elementMouseout)})}else P.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,d){if(Q||!a[c.series])return 0;var f=a[c.series],k=f.values[d];K.elementClick({point:k,series:f,pos:[e(z(k,d))+b.left,l(r(k,d))+b.top],seriesIndex:c.series,pointIndex:d})}).on("dblclick",
function(c,d){if(Q||!a[c.series])return 0;var f=a[c.series],k=f.values[d];K.elementDblClick({point:k,series:f,pos:[e(z(k,d))+b.left,l(r(k,d))+b.top],seriesIndex:c.series,pointIndex:d})}).on("mouseover",function(c,d){if(Q||!a[c.series])return 0;var k=a[c.series],g=k.values[d];K.elementMouseover({point:g,series:k,pos:[e(z(g,d))+b.left,l(r(g,d))+b.top],seriesIndex:c.series,pointIndex:d,color:f(c,d)})}).on("mouseout",function(b,c){if(Q||!a[b.series])return 0;var d=a[b.series];K.elementMouseout({point:d.values[c],
series:d,seriesIndex:b.series,pointIndex:c,color:f(b,c)})})},300);L=e.copy();O=l.copy();p.copy()});V.renderEnd("scatter immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=null,m=null,f=c.utils.defaultColor(),h=Math.floor(1E5*Math.random()),g=null,e=d3.scale.linear(),l=d3.scale.linear(),p=d3.scale.linear(),z=function(a){return a.x},r=function(a){return a.y},v=function(a){return a.size||1},w=function(a){return a.shape||"circle"},u=[],t=[],C=[],D=!0,A=function(a){return!a.notActive},k=!1,q=
.1,M=!1,H=!0,I=!1,J=function(){return 25},y=null,x=null,G=null,E=null,n=null,N=null,F=!1,K=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),S=!0,B=250,L,O,W,Q=!1,V=c.utils.renderWatch(K,B),Z=[16,256];a.dispatch=K;a.options=c.utils.optionsFunc.bind(a);a._calls=new function(){this.clearHighlights=function(){c.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",!1)});return null};this.highlightPoint=function(a,b,d){c.dom.write(function(){g.select(" .nv-series-"+
a+" .nv-point-"+b).classed("hover",d)})}};K.on("elementMouseover.point",function(b){D&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,!0)});K.on("elementMouseout.point",function(b){D&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,!1)});a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},xScale:{get:function(){return e},set:function(a){e=a}},yScale:{get:function(){return l},set:function(a){l=a}},pointScale:{get:function(){return p},
set:function(a){p=a}},xDomain:{get:function(){return y},set:function(a){y=a}},yDomain:{get:function(){return x},set:function(a){x=a}},pointDomain:{get:function(){return n},set:function(a){n=a}},xRange:{get:function(){return G},set:function(a){G=a}},yRange:{get:function(){return E},set:function(a){E=a}},pointRange:{get:function(){return N},set:function(a){N=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return t},set:function(a){t=a}},forcePoint:{get:function(){return C},
set:function(a){C=a}},interactive:{get:function(){return D},set:function(a){D=a}},pointActive:{get:function(){return A},set:function(a){A=a}},padDataOuter:{get:function(){return q},set:function(a){q=a}},padData:{get:function(){return k},set:function(a){k=a}},clipEdge:{get:function(){return M},set:function(a){M=a}},clipVoronoi:{get:function(){return H},set:function(a){H=a}},clipRadius:{get:function(){return J},set:function(a){J=a}},showVoronoi:{get:function(){return I},set:function(a){I=a}},id:{get:function(){return h},
set:function(a){h=a}},x:{get:function(){return z},set:function(a){z=d3.functor(a)}},y:{get:function(){return r},set:function(a){r=d3.functor(a)}},pointSize:{get:function(){return v},set:function(a){v=d3.functor(a)}},pointShape:{get:function(){return w},set:function(a){w=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},duration:{get:function(){return B},
set:function(a){B=a;V.reset(B)}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},useVoronoi:{get:function(){return S},set:function(a){S=a;!1===S&&(H=!1)}}});c.utils.initOptions(a);return a};c.models.scatterChart=function(){function a(n){x.reset();x.models(b);A&&x.models(d);k&&x.models(m);t&&x.models(h);C&&x.models(g);n.each(function(n){r=d3.select(this);c.utils.initSVG(r);var F=c.utils.availableWidth(p,r,l),K=c.utils.availableHeight(z,r,l);a.update=function(){0===y?r.call(a):
r.transition().duration(y).call(a)};a.container=this;M.setter(E(n),a.update).getter(G(n)).update();M.disabled=n.map(function(a){return!!a.disabled});if(!H)for(B in H={},M)H[B]=M[B]instanceof Array?M[B].slice(0):M[B];if(n&&n.length&&n.filter(function(a){return a.values.length}).length)r.selectAll(".nv-noData").remove();else return c.utils.noData(a,r),x.renderEnd("scatter immediate"),a;w=b.xScale();u=b.yScale();var J=r.selectAll("g.nv-wrap.nv-scatterChart").data([n]);var B=J.enter().append("g").attr("class",
"nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var L=J.select("g");B.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");B.append("g").attr("class","nv-x nv-axis");B.append("g").attr("class","nv-y nv-axis");B.append("g").attr("class","nv-scatterWrap");B.append("g").attr("class","nv-regressionLinesWrap");B.append("g").attr("class","nv-distWrap");B.append("g").attr("class","nv-legendWrap");q&&L.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)");
D&&(f.width(F),J.select(".nv-legendWrap").datum(n).call(f),l.top!=f.height()&&(l.top=f.height(),K=c.utils.availableHeight(z,r,l)),J.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")"));J.attr("transform","translate("+l.left+","+l.top+")");b.width(F).height(K).color(n.map(function(a,b){a.color=a.color||v(a,b);return a.color}).filter(function(a,b){return!n[b].disabled}));J.select(".nv-scatterWrap").datum(n.filter(function(a){return!a.disabled})).call(b);J.select(".nv-regressionLinesWrap").attr("clip-path",
"url(#nv-edge-clip-"+b.id()+")");J=J.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});J.enter().append("g").attr("class","nv-regLines");J=J.selectAll(".nv-regLine").data(function(a){return[a]});J.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);J.filter(function(a){return a.intercept&&a.slope}).watchTransition(x,"scatterPlusLineChart: regline").attr("x1",w.range()[0]).attr("x2",w.range()[1]).attr("y1",function(a,b){return u(w.domain()[0]*
a.slope+a.intercept)}).attr("y2",function(a,b){return u(w.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return v(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"===typeof a.slope||"undefined"===typeof a.intercept?0:1});A&&(d.scale(w)._ticks(c.utils.calcTicksX(F/100,n)).tickSize(-K,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+u.range()[0]+")").call(d));k&&(m.scale(u)._ticks(c.utils.calcTicksY(K/36,n)).tickSize(-F,0),L.select(".nv-y.nv-axis").call(m));
t&&(h.getData(b.x()).scale(w).width(F).color(n.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!n[b].disabled})),B.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),L.select(".nv-distributionX").attr("transform","translate(0,"+u.range()[0]+")").datum(n.filter(function(a){return!a.disabled})).call(h));C&&(g.getData(b.y()).scale(u).width(K).color(n.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!n[b].disabled})),B.select(".nv-distWrap").append("g").attr("class",
"nv-distributionY"),L.select(".nv-distributionY").attr("transform","translate("+(q?F:-g.size())+",0)").datum(n.filter(function(a){return!a.disabled})).call(g));f.dispatch.on("stateChange",function(b){for(var c in b)M[c]=b[c];I.stateChange(M);a.update()});I.on("changeState",function(b){"undefined"!==typeof b.disabled&&(n.forEach(function(a,c){a.disabled=b.disabled[c]}),M.disabled=b.disabled);a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0);r.select(".nv-chart-"+b.id()+
" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);r.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",g.size())});b.dispatch.on("elementMouseover.tooltip",function(a){r.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos.top-K-l.top);r.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos.left+h.size()-l.left);e.position(a.pos).data(a).hidden(!1)});w.copy();u.copy()});x.renderEnd("scatter with line immediate");
return a}var b=c.models.scatter(),d=c.models.axis(),m=c.models.axis(),f=c.models.legend(),h=c.models.distribution(),g=c.models.distribution(),e=c.models.tooltip(),l={top:30,right:20,bottom:50,left:75},p=null,z=null,r=null,v=c.utils.defaultColor(),w=b.xScale(),u=b.yScale(),t=!1,C=!1,D=!0,A=!0,k=!0,q=!1,M=c.utils.state(),H=null,I=d3.dispatch("stateChange","changeState","renderEnd"),J=null,y=250;b.xScale(w).yScale(u);d.orient("bottom").tickPadding(10);m.orient(q?"right":"left").tickPadding(10);h.axis("x");
g.axis("y");e.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return m.tickFormat()(a,b)});var x=c.utils.renderWatch(I,y),G=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},E=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=I;a.scatter=b;a.legend=f;a.xAxis=d;a.yAxis=m;a.distX=h;a.distY=g;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},
{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return z},set:function(a){z=a}},container:{get:function(){return r},set:function(a){r=a}},showDistX:{get:function(){return t},set:function(a){t=a}},showDistY:{get:function(){return C},set:function(a){C=a}},showLegend:{get:function(){return D},set:function(a){D=a}},showXAxis:{get:function(){return A},set:function(a){A=a}},showYAxis:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return H},set:function(a){H=
a}},noData:{get:function(){return J},set:function(a){J=a}},duration:{get:function(){return y},set:function(a){y=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},tooltipXContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top;l.right=void 0!==a.right?a.right:l.right;l.bottom=void 0!==a.bottom?a.bottom:l.bottom;l.left=void 0!==a.left?a.left:l.left}},rightAlignYAxis:{get:function(){return q},set:function(a){q=a;m.orient(a?
"right":"left")}},color:{get:function(){return v},set:function(a){v=c.utils.getColor(a);f.color(v);h.color(v);g.color(v)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(h){h.each(function(a){var h=d-b.left-b.right,t=m-b.top-b.bottom;f=d3.select(this);c.utils.initSVG(f);g.domain(r||d3.extent(a,l)).range(w||[0,h]);e.domain(v||d3.extent(a,p)).range(u||[t,0]);a=f.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class",
"nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");h=a.selectAll("path").data(function(a){return[a]});h.enter().append("path");h.exit().remove();h.style("stroke",function(a,b){return a.color||z(a,b)}).attr("d",d3.svg.line().x(function(a,b){return g(l(a,b))}).y(function(a,b){return e(p(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];c.pointIndex=b;return c}return null}var c=a.map(function(a,b){return p(a,
b)}),d=b(c.lastIndexOf(e.domain()[1])),f=b(c.indexOf(e.domain()[0])),c=b(c.length-1);return[f,d,c].filter(function(a){return null!=a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,b){return g(l(a,a.pointIndex))}).attr("cy",function(a,b){return e(p(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return l(a,a.pointIndex)==g.domain()[1]?"nv-point nv-currentValue":p(a,a.pointIndex)==e.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,
right:0,bottom:2,left:0},d=400,m=32,f=null,h=!0,g=d3.scale.linear(),e=d3.scale.linear(),l=function(a){return a.x},p=function(a){return a.y},z=c.utils.getColor(["#000"]),r,v,w,u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return r},set:function(a){r=a}},yDomain:{get:function(){return v},set:function(a){v=a}},xRange:{get:function(){return w},set:function(a){w=
a}},yRange:{get:function(){return u},set:function(a){u=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},animate:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return l},set:function(a){l=d3.functor(a)}},y:{get:function(){return p},set:function(a){p=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=void 0!==a.bottom?a.bottom:
b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(t){t.each(function(t){function u(){if(!l){var a=J.selectAll(".nv-hoverValue").data(e),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",
function(a){return"translate("+h(b.x()(t[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);e.length&&(c.append("line").attr("x1",0).attr("y1",-d.top).attr("x2",0).attr("y2",q),c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-d.top).attr("text-anchor","end").attr("dy",".9em"),J.select(".nv-hoverValue .nv-xValue").text(p(b.x()(t[e[0]],e[0]))),c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-d.top).attr("text-anchor","start").attr("dy",
".9em"),J.select(".nv-hoverValue .nv-yValue").text(z(b.y()(t[e[0]],e[0]))))}}var A=d3.select(this);c.utils.initSVG(A);var k=c.utils.availableWidth(m,A,d),q=c.utils.availableHeight(f,A,d);a.update=function(){A.call(a)};a.container=this;if(t&&t.length)A.selectAll(".nv-noData").remove();else return c.utils.noData(a,A),a;var C=b.y()(t[t.length-1],t.length-1);h=b.xScale();g=b.yScale();var H=A.selectAll("g.nv-wrap.nv-sparklineplus").data([t]),I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),
J=H.select("g");I.append("g").attr("class","nv-sparklineWrap");I.append("g").attr("class","nv-valueWrap");I.append("g").attr("class","nv-hoverArea");H.attr("transform","translate("+d.left+","+d.top+")");H=J.select(".nv-sparklineWrap");b.width(k).height(q);H.call(b);r&&(H=J.select(".nv-valueWrap").selectAll(".nv-currentValue").data([C]),H.enter().append("text").attr("class","nv-currentValue").attr("dx",w?-8:8).attr("dy",".9em").style("text-anchor",w?"end":"start"),H.attr("x",k+(w?d.right:0)).attr("y",
v?function(a){return g(a)}:0).style("fill",b.color()(t[t.length-1],t.length-1)).text(z(C)));I.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!l){for(var a=d3.mouse(this)[0]-d.left,a=Math.round(h.invert(a)),c=Math.abs(b.x()(t[0],0)-a),f=0,k=0;k<t.length;k++)Math.abs(b.x()(t[k],k)-a)<c&&(c=Math.abs(b.x()(t[k],k)-a),f=k);e=[f];u()}}).on("click",function(){l=!l}).on("mouseout",function(){e=[];u()});J.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-d.left+
","+-d.top+")"}).attr("width",k+d.left+d.right).attr("height",q+d.top)});return a}var b=c.models.sparkline(),d={top:15,right:100,bottom:10,left:50},m=null,f=null,h,g,e=[],l=!1,p=d3.format(",r"),z=d3.format(",.2f"),r=!0,v=!0,w=!1,u=null;a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return f},set:function(a){f=a}},xTickFormat:{get:function(){return p},set:function(a){p=a}},yTickFormat:{get:function(){return z},
set:function(a){z=a}},showLastValue:{get:function(){return r},set:function(a){r=a}},alignValue:{get:function(){return v},set:function(a){v=a}},rightAlignValue:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top;d.right=void 0!==a.right?a.right:d.right;d.bottom=void 0!==a.bottom?a.bottom:d.bottom;d.left=void 0!==a.left?a.left:d.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.stackedArea=function(){function a(q){k.reset();k.models(C);q.each(function(q){var p=d-b.left-b.right,D=m-b.top-b.bottom;g=d3.select(this);c.utils.initSVG(g);u=C.xScale();t=C.yScale();var J=q;q.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});q=q.filter(function(a){return!a.disabled});q=d3.layout.stack().order(r).offset(z).values(function(a){return a.values}).x(e).y(l).out(function(a,b,c){a.display={y:c,y0:b}})(q);var y=
g.selectAll("g.nv-wrap.nv-stackedarea").data([q]),x=y.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),G=x.append("defs"),x=x.append("g"),E=y.select("g");x.append("g").attr("class","nv-areaWrap");x.append("g").attr("class","nv-scatterWrap");y.attr("transform","translate("+b.left+","+b.top+")");0==C.forceY().length&&C.forceY().push(0);C.width(p).height(D).x(e).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(q.map(function(a,b){return a.color||f(a,a.seriesIndex)}));
E.select(".nv-scatterWrap").datum(q).call(C);G.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");y.select("#nv-edge-clip-"+h+" rect").attr("width",p).attr("height",D);E.attr("clip-path",w?"url(#nv-edge-clip-"+h+")":"");var n=d3.svg.area().x(function(a,b){return u(e(a,b))}).y0(function(a){return t(a.display.y0)}).y1(function(a){return t(a.display.y+a.display.y0)}).interpolate(v),M=d3.svg.area().x(function(a,b){return u(e(a,b))}).y0(function(a){return t(a.display.y0)}).y1(function(a){return t(a.display.y0)}),
p=E.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});p.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return M(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);A.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);A.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1);A.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});p.exit().remove();p.style("fill",function(a,b){return a.color||f(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||f(a,a.seriesIndex)});p.watchTransition(k,"stackedArea path").attr("d",function(a,b){return n(a.values,b)});C.dispatch.on("elementMouseover.area",function(a){E.select(".nv-chart-"+
h+" .nv-area-"+a.seriesIndex).classed("hover",!0)});C.dispatch.on("elementMouseout.area",function(a){E.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",!1)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,d,e,f,k=[];for(e=0;e<c;++e){for(f=d=0;d<J.length;d++)f+=l(J[d].values[e]);if(f)for(d=0;d<b;d++)a[d][e][1]/=f;else for(d=0;d<b;d++)a[d][e][1]=0}for(e=0;e<c;++e)k[e]=0;return k}});k.renderEnd("stackedArea immediate");return a}var b={top:0,right:0,bottom:0,
left:0},d=960,m=500,f=c.utils.defaultColor(),h=Math.floor(1E5*Math.random()),g=null,e=function(a){return a.x},l=function(a){return a.y},p="stack",z="zero",r="default",v="linear",w=!1,u,t,C=c.models.scatter(),D=250,A=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");C.pointSize(2.2).pointDomain([2.2,2.2]);var k=c.utils.renderWatch(A,D);a.dispatch=A;a.scatter=C;C.dispatch.on("elementClick",function(){A.elementClick.apply(this,arguments)});
C.dispatch.on("elementMouseover",function(){A.elementMouseover.apply(this,arguments)});C.dispatch.on("elementMouseout",function(){A.elementMouseout.apply(this,arguments)});a.interpolate=function(b){if(!arguments.length)return v;v=b;return a};a.duration=function(b){if(!arguments.length)return D;D=b;k.reset(D);C.duration(D);return a};a.dispatch=A;a.scatter=C;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},
set:function(a){m=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},offset:{get:function(){return z},set:function(a){z=a}},order:{get:function(){return r},set:function(a){r=a}},interpolate:{get:function(){return v},set:function(a){v=a}},x:{get:function(){return e},set:function(a){e=d3.functor(a)}},y:{get:function(){return l},set:function(a){l=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top;b.right=void 0!==a.right?a.right:b.right;b.bottom=
void 0!==a.bottom?a.bottom:b.bottom;b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},style:{get:function(){return p},set:function(b){p=b;switch(p){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),
a.order("default")}}},duration:{get:function(){return D},set:function(a){D=a;k.reset(D);C.duration(D)}}});c.utils.inheritOptions(a,C);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(e){N.reset();N.models(b);u&&N.models(d);t&&N.models(m);e.each(function(e){var B=d3.select(this),H=this;c.utils.initSVG(B);var L=c.utils.availableWidth(p,B,l),N=c.utils.availableHeight(z,B,l);a.update=function(){B.transition().duration(G).call(a)};a.container=this;q.setter(K(e),a.update).getter(F(e)).update();
q.disabled=e.map(function(a){return!!a.disabled});if(!M)for(P in M={},q)M[P]=q[P]instanceof Array?q[P].slice(0):q[P];if(e&&e.length&&e.filter(function(a){return a.values.length}).length)B.selectAll(".nv-noData").remove();else return c.utils.noData(a,B),a;A=b.xScale();k=b.yScale();var Z=B.selectAll("g.nv-wrap.nv-stackedAreaChart").data([e]),R=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");var P=Z.select("g");R.append("rect").style("opacity",0);R.append("g").attr("class",
"nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class","nv-stackedWrap");R.append("g").attr("class","nv-legendWrap");R.append("g").attr("class","nv-controlsWrap");R.append("g").attr("class","nv-interactive");P.select("rect").attr("width",L).attr("height",N);w&&(R=v?L-J:L,f.width(R),P.select(".nv-legendWrap").datum(e).call(f),l.top!=f.height()&&(l.top=f.height(),N=c.utils.availableHeight(z,B,l)),P.select(".nv-legendWrap").attr("transform","translate("+(L-R)+","+-l.top+
")"));if(v){var X=[{key:x.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=b.style(),style:"stack"},{key:x.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:x.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:x.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];J=y.length/3*260;X=X.filter(function(a){return-1!==y.indexOf(a.metaKey)});h.width(J).color(["#444","#444",
"#444"]);P.select(".nv-controlsWrap").datum(X).call(h);l.top!=Math.max(h.height(),f.height())&&(l.top=Math.max(h.height(),f.height()),N=c.utils.availableHeight(z,B,l));P.select(".nv-controlsWrap").attr("transform","translate(0,"+-l.top+")")}Z.attr("transform","translate("+l.left+","+l.top+")");C&&P.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)");D&&(g.width(L).height(N).margin({left:l.left,top:l.top}).svgContainer(B).xScale(A),Z.select(".nv-interactive").call(g));b.width(L).height(N);
P.select(".nv-stackedWrap").datum(e).transition().call(b);u&&(d.scale(A)._ticks(c.utils.calcTicksX(L/100,e)).tickSize(-N,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+N+")"),P.select(".nv-x.nv-axis").transition().duration(0).call(d));t&&(N="wiggle"===b.offset()?0:c.utils.calcTicksY(N/36,e),m.scale(k)._ticks(N).tickSize(-L,0),"expand"===b.style()||"stack_percent"===b.style()?(L=m.tickFormat(),E&&L===S||(E=L),m.tickFormat(S)):E&&(m.tickFormat(E),E=null),P.select(".nv-y.nv-axis").transition().duration(0).call(m));
b.dispatch.on("areaClick.toggle",function(b){1===e.filter(function(a){return!a.disabled}).length?e.forEach(function(a){a.disabled=!1}):e.forEach(function(a,c){a.disabled=c!=b.seriesIndex});q.disabled=e.map(function(a){return!!a.disabled});I.stateChange(q);a.update()});f.dispatch.on("stateChange",function(b){for(var c in b)q[c]=b[c];I.stateChange(q);a.update()});h.dispatch.on("legendClick",function(c,d){c.disabled&&(X=X.map(function(a){a.disabled=!0;return a}),c.disabled=!1,b.style(c.style),q.style=
b.style(),I.stateChange(q),a.update())});g.dispatch.on("elementMousemove",function(f){b.clearHighlights();var k,h,m,p=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){h=c.interactiveBisect(d.values,f.pointXValue,a.x());var g=d.values[h];null!=a.y()(g,h)&&b.highlightPoint(e,h,!0);if("undefined"!==typeof g){"undefined"===typeof k&&(k=g);"undefined"===typeof m&&(m=a.xScale()(a.x()(g,h)));var n="expand"==b.style()?g.display.y:a.y()(g,h);p.push({key:d.key,value:n,color:r(d,
d.seriesIndex),stackedValue:g.display})}});p.reverse();if(2<p.length){var q=a.yScale().invert(f.mouseY),B=null;p.forEach(function(a,b){q=Math.abs(q);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);q>=c&&q<=d+c&&(B=b)});null!=B&&(p[B].highlight=!0)}var v=d.tickFormat()(a.x()(k,h)),t=g.tooltip.valueFormatter();"expand"===b.style()||"stack_percent"===b.style()?(n||(n=t),t=d3.format(".1%")):n&&(t=n,n=null);g.tooltip.position({left:m+l.left,top:f.mouseY+l.top}).chartContainer(H.parentNode).valueFormatter(t).data({value:v,
series:p})();g.renderGuideLine(m)});g.dispatch.on("elementMouseout",function(a){b.clearHighlights()});I.on("changeState",function(c){"undefined"!==typeof c.disabled&&e.length===c.disabled.length&&(e.forEach(function(a,b){a.disabled=c.disabled[b]}),q.disabled=c.disabled);"undefined"!==typeof c.style&&b.style(c.style);a.update()})});N.renderEnd("stacked Area chart immediate");return a}var b=c.models.stackedArea(),d=c.models.axis(),m=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.interactiveGuideline(),
e=c.models.tooltip(),l={top:30,right:25,bottom:50,left:60},p=null,z=null,r=c.utils.defaultColor(),v=!0,w=!0,u=!0,t=!0,C=!1,D=!1,A,k,q=c.utils.state(),M=null,H=null,I=d3.dispatch("stateChange","changeState","renderEnd"),J=250,y=["Stacked","Stream","Expanded"],x={},G=250;q.style=b.style();d.orient("bottom").tickPadding(7);m.orient(C?"right":"left");e.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return m.tickFormat()(a,b)});g.tooltip.headerFormatter(function(a,
b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return m.tickFormat()(a,b)});var E=null,n=null;h.updateState(!1);var N=c.utils.renderWatch(I);b.style();var F=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:b.style()}}},K=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},S=d3.format("%");b.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=b.x()(a.point);a.point.y=b.y()(a.point);e.data(a).position(a.pos).hidden(!1)});
b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)});a.dispatch=I;a.stacked=b;a.legend=f;a.controls=h;a.xAxis=d;a.yAxis=m;a.interactiveLayer=g;a.tooltip=e;a.dispatch=I;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return w},set:function(a){w=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return t},
set:function(a){t=a}},defaultState:{get:function(){return M},set:function(a){M=a}},noData:{get:function(){return H},set:function(a){H=a}},showControls:{get:function(){return v},set:function(a){v=a}},controlLabels:{get:function(){return x},set:function(a){x=a}},controlOptions:{get:function(){return y},set:function(a){y=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top;l.right=void 0!==a.right?a.right:l.right;l.bottom=void 0!==a.bottom?a.bottom:l.bottom;l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return G},set:function(a){G=a;N.reset(G);b.duration(G);d.duration(G);m.duration(G)}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a);
f.color(r);b.color(r)}},rightAlignYAxis:{get:function(){return C},set:function(a){C=a;m.orient(C?"right":"left")}},useInteractiveGuideline:{get:function(){return D},set:function(c){D=!!c;a.interactive(!c);a.useVoronoi(!c);b.scatter.interactive(!c)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sunburst=function(){function a(k){A.reset();k.each(function(a){function k(a){a.x0=a.x;a.dx0=a.dx}function q(a){var b=d3.interpolate(r.domain(),[a.x,a.x+a.dx]),c=d3.interpolate(v.domain(),
[a.y,1]),d=d3.interpolate(v.range(),[a.y?20:0,y]);return function(a,e){return e?function(b){return u(a)}:function(e){r.domain(b(e));v.domain(c(e)).range(d(e));return u(a)}}}e=d3.select(this);var A=c.utils.availableWidth(d,e,b),J=c.utils.availableHeight(m,e,b),y=Math.min(A,J)/2;c.utils.initSVG(e);var x=e.selectAll(".nv-wrap.nv-sunburst").data(a),G=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+g).selectAll("nv-sunburst");x.attr("transform","translate("+A/2+","+J/2+")");e.on("click",
function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:g})});v.range([0,y]);t=t||a;D=a[0];w.value(h[f]||h.count);var E=G.data(w.nodes).enter().append("path").attr("d",u).style("fill",function(a){return l((a.children?a:a.parent).name)}).style("stroke","#FFF").on("click",function(a){C!==t&&t!==a&&(C=t);t=a;E.transition().duration(p).attrTween("d",q(a))}).each(k).on("dblclick",function(a){C.parent==a&&E.transition().duration(p).attrTween("d",q(D))}).each(k).on("mouseover",function(a,b){d3.select(this).classed("hover",
!0).style("opacity",.8);z.elementMouseover({data:a,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1);z.elementMouseout({data:a})}).on("mousemove",function(a,b){z.elementMousemove({data:a})})});A.renderEnd("sunburst immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=null,m=null,f="count",h={count:function(a){return 1},size:function(a){return a.size}},g=Math.floor(1E4*Math.random()),e=null,l=c.utils.defaultColor(),p=
500,z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),r=d3.scale.linear().range([0,2*Math.PI]),v=d3.scale.sqrt(),w=d3.layout.partition().sort(null).value(function(a){return 1}),u=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,r(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,r(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,v(a.y))}).outerRadius(function(a){return Math.max(0,
v(a.y+a.dy))}),t,C,D,A=c.utils.renderWatch(z);a.dispatch=z;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return m},set:function(a){m=a}},mode:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},duration:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!=a.top?a.top:b.top;b.right=void 0!=a.right?
a.right:b.right;b.bottom=void 0!=a.bottom?a.bottom:b.bottom;b.left=void 0!=a.left?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sunburstChart=function(){function a(d){p.reset();p.models(b);d.each(function(d){var f=d3.select(this);c.utils.initSVG(f);var g=c.utils.availableWidth(null,f,m),h=c.utils.availableHeight(null,f,m);a.update=function(){0===e?f.call(a):f.transition().duration(e).call(a)};a.container=this;if(d&&
d.length)f.selectAll(".nv-noData").remove();else return c.utils.noData(a,f),a;var l=f.selectAll("g.nv-wrap.nv-sunburstChart").data(d),p=l.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),r=l.select("g");p.append("g").attr("class","nv-sunburstWrap");l.attr("transform","translate("+m.left+","+m.top+")");b.width(g).height(h);d=r.select(".nv-sunburstWrap").datum(d);d3.transition(d).call(b)});p.renderEnd("sunburstChart immediate");return a}var b=c.models.sunburst(),d=c.models.tooltip(),
m={top:30,right:20,bottom:20,left:20},f=c.utils.defaultColor(),h=null,g=null,e=250,l=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),p=c.utils.renderWatch(l);d.headerEnabled(!1).duration(0).valueFormatter(function(a,b){return a});b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color};d.data(a).hidden(!1)});b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)});b.dispatch.on("elementMousemove.tooltip",
function(a){d.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=l;a.sunburst=b;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{noData:{get:function(){return g},set:function(a){g=a}},defaultState:{get:function(){return h},set:function(a){h=a}},color:{get:function(){return f},set:function(a){f=a;b.color(f)}},duration:{get:function(){return e},set:function(a){e=a;p.reset(e);b.duration(e)}},margin:{get:function(){return m},set:function(a){m.top=void 0!==
a.top?a.top:m.top;m.right=void 0!==a.right?a.right:m.right;m.bottom=void 0!==a.bottom?a.bottom:m.bottom;m.left=void 0!==a.left?a.left:m.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.8.1"})();
